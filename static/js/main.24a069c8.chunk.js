(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1008:function(e,t){},1010:function(e,t){},1042:function(e,t){},1043:function(e,t){},1085:function(e,t){},1086:function(e,t){},1087:function(e,t){},1088:function(e,t){},1089:function(e,t){},1107:function(e,t,a){"use strict";a.r(t);var n=a(352),r=a(0),i=a.n(r),o=a(21),l=a.n(o),s=a(55),c=a(84);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(559),m=a(190),p=(a(695),a(11)),d=a.n(p),f=a(22),h=function(e,t){localStorage.setItem(e,t)},g=function(e){return localStorage.getItem(e)},b=function(e){localStorage.removeItem(e)},v=function(){b("token")},y=function(e){return h("token",e)},E=function(){return g("token")},k=function(){b("user")},C=function(){b("client")},O=function(e){h("client",JSON.stringify(e))},S=function(){try{return JSON.parse(g("client"))}catch(e){return null}},x=function(){try{var e=JSON.parse(g("user"));return e._id&&e.username&&e.displayName&&e.role&&E()?e:null}catch(t){return null}},w=function(e){var t=e.trim().toUpperCase().split(" "),a="";return t.forEach(function(e){e.length>0&&(a+=e.substr(0,1))}),a},j=function(e,t){var a={method:e,headers:{}};return"GET"!==e.toUpperCase()&&(a.headers={"Content-Type":"application/json"}),E()&&(a.headers.token=E()),t&&(a.body=JSON.stringify(t)),a},I=function(){var e=Object(f.a)(d.a.mark(function e(t,a,n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(d.a.mark(function e(r,i){var o,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch((s=a,"".concat("https://spa.playunitedsg.com","/api").concat(s.startsWith("/")?"":"/").concat(s)),j(t,n));case 3:return o=e.sent,e.next=6,o.json();case 6:if(l=e.sent,200!==o.status){e.next=11;break}r(l),e.next=18;break;case 11:if(401!==o.status){e.next=17;break}v(),k(),document.location.href="/",e.next=18;break;case 17:throw l.error||o.statusText;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),i(e.t0);case 23:case"end":return e.stop()}var s},e,null,[[0,20]])}));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),N=a(16),T=a(13),W=a(18),L=a(17),P=a(19),D=a(494),M=a(1108),A=a(493),R=a(453),B=a(90),z=a(175),F=a(495),_=a(24),G=a(31),V=a(8),U=a.n(V),K=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=(this.props.location.state||{from:{pathname:"/dashboard"}}).from;return this.state.redirectToReferrer?i.a.createElement(s.a,{to:n}):i.a.createElement(A.a,{component:"main",maxWidth:"xs"},i.a.createElement(D.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(R.a,{m:3},i.a.createElement("img",{src:a(408),alt:"Logo",style:{width:320}})),i.a.createElement(B.a,{component:"h1",variant:"h5"},"Spa Management System"),i.a.createElement(_.c,{initialValues:{username:"",password:""},validate:function(e){var t={};return e.username||(t.username="Please enter username"),e.password||(t.password="Please enter password"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,i=n.setErrors,t.prev=1,t.next=4,I("POST","auth/login",a);case 4:(o=t.sent)&&o.ok&&o.token&&o.user?(y(o.token),l=o.user,h("user",JSON.stringify(l)),e.setState({redirectToReferrer:!0})):U.a.fire({type:"error",text:"Please try again.",title:"Invalid email or password!"}),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),v(),k(),i({username:"Invalid username",password:"Invalid password"}),U.a.fire({type:"error",text:"Please try again.",title:"Invalid email or password!"});case 14:r(!1);case 15:case"end":return t.stop()}var l},t,null,[[1,8]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(e){e.submitForm;var a=e.isSubmitting;e.values,e.setFieldValue,e.errors,e.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,autoFocus:!0,name:"username",label:"Username"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password"}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:a,type:"submit"},"Login"),a&&i.a.createElement(F.a,null))}}),i.a.createElement("small",null,"0.0.1")))}}]),t}(i.a.Component),$=Object(s.g)(Object(M.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)}}})(K)),H=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return i.a.createElement(A.a,{component:"main",maxWidth:"xs"},i.a.createElement(D.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(R.a,{m:2},i.a.createElement(B.a,{variant:"h3",noWrap:!0},"Page not found")),i.a.createElement(R.a,{m:2},i.a.createElement(B.a,{variant:"subtitle1"},"Ooooups! Looks like you got lost.")),i.a.createElement(R.a,null,i.a.createElement(z.a,{component:c.b,to:t},"Go back"))))}}]),t}(i.a.Component),Y=Object(s.g)(Object(M.a)(function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})(H)),X=a(71),J=a(256),q=a(660),Q=a(62),Z=a(544),ee=a(460),te=a(466),ae=a(545),ne=a(628),re=a(546),ie=a(547),oe=a(309),le=a(346),se=a(548),ce=a(549),ue=a(467),me=a(627),pe=a(89),de=a(1111),fe=a(1112),he=a(1113),ge=a(1114),be=a(1115),ve=a(1116),ye=a(1117),Ee=a(1118),ke=a(1119),Ce=a(1120),Oe=a(1121);function Se(e){return i.a.createElement("div",null,i.a.createElement("div",{className:e.classes.toolbar},i.a.createElement("img",{src:a(408),alt:"Logo",style:{width:180,marginTop:12,marginBottom:8,marginLeft:30}})),i.a.createElement(Z.a,null),i.a.createElement(ee.a,null,i.a.createElement(te.a,null,i.a.createElement(ae.a,null,i.a.createElement(ne.a,{className:e.classes.menuAvatar},w(e.user.displayName))),i.a.createElement(re.a,{primary:e.user.displayName,secondary:e.user.email.length>20?"".concat(e.user.email.substr(0,20),"..."):e.user.email}))),i.a.createElement(Z.a,null),i.a.createElement(ee.a,null,i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/dashboard"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(de.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Dashboard"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/appointment"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(fe.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Appointment"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/client"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(he.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Clients"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/staff"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(ge.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Staffs"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/service"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(be.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Services"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/invoice"},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(ve.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Invoice"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/message",style:{display:"none"}},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(ye.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Client Message"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/report",style:{display:"none"}},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(Ee.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Reports"})),i.a.createElement(te.a,{activeClassName:e.classes.activeListItem,className:e.classes.listItem,component:c.c,to:"/setting",style:{display:"none"}},i.a.createElement(ie.a,{className:e.classes.listItemIcon},i.a.createElement(ke.a,null)),i.a.createElement(re.a,{classes:{primary:e.classes.listItemText},primary:"Settings"}))))}function xe(e){var t=i.a.useState(null),a=Object(q.a)(t,2),n=a[0],r=a[1],o=Boolean(n);return i.a.createElement("div",null,i.a.createElement(oe.a,{"aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit"},i.a.createElement(Ce.a,null)),i.a.createElement(le.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(){r(null)}},i.a.createElement(se.a,{onClick:function(){v(),k(),e.history.push("/login")}},"Logout")))}var we=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={mobileOpen:!1},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(D.a,null),i.a.createElement(ce.a,{position:"fixed",className:e.appBar},i.a.createElement(ue.a,null,i.a.createElement(oe.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:this.handleDrawerToggle,className:e.menuButton},i.a.createElement(Oe.a,null)),i.a.createElement(B.a,{variant:"h6",className:e.title},this.props.title),i.a.createElement(xe,this.props))),i.a.createElement("nav",{className:e.drawer,"aria-label":"Mailbox folders"},i.a.createElement(me.a,{smUp:!0,implementation:"css"},i.a.createElement(pe.a,{variant:"temporary",anchor:"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0}},i.a.createElement(Se,this.props))),i.a.createElement(me.a,{xsDown:!0,implementation:"css"},i.a.createElement(pe.a,{classes:{paper:e.drawerPaper},variant:"permanent",open:!0},i.a.createElement(Se,this.props)))),i.a.createElement("main",{className:e.content},i.a.createElement("div",{className:e.toolbar}),i.a.createElement(A.a,{maxWidth:!1},this.props.children)))}}]),t}(i.a.Component),je=Object(M.a)(function(e){return{root:{display:"flex"},drawer:Object(Q.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(Q.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(Q.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),title:{flexGrow:1},menuAvatar:{width:40,height:40},toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},activeListItem:{backgroundColor:e.palette.grey[300],"& $listItemText":{color:e.palette.text.primary},"& $listItemIcon":{color:e.palette.text.primary,marginLeft:"-4px"}},listItem:{cursor:"pointer","&:hover":{backgroundColor:e.palette.grey[300],"& $listItemIcon":{color:e.palette.text.primary,marginLeft:"-4px"}},"& + &":{marginTop:e.spacing.unit}},listItemText:{fontWeight:500,color:e.palette.text.secondary}}})(we),Ie=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={bookingList:null,appointments:null},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","dashboardMgt/dashboard");case 3:t=e.sent,this.setState({bookingList:t.bookingsByStaff,appointments:t.appointments}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement(je,Object.assign({title:"Dashboard"},this.props),i.a.createElement(J.a,{style:{marginTop:20}},i.a.createElement(X.g,{width:"100%",height:400},i.a.createElement(X.f,{data:this.state.appointments,margin:{top:20,right:40,left:20,bottom:20}},i.a.createElement(X.i,{dataKey:"_id"}),i.a.createElement(X.j,null),i.a.createElement(X.h,null),i.a.createElement(X.c,{stroke:"#eee",strokeDasharray:"5 5"}),i.a.createElement(X.e,{type:"monotone",dataKey:"Total",stroke:"#4287f5"}),i.a.createElement(X.e,{type:"monotone",dataKey:"Missed",stroke:"#ba3091"}),i.a.createElement(X.e,{type:"monotone",dataKey:"Completed",stroke:"#82ca9d"})))),i.a.createElement(J.a,{style:{marginTop:20}},i.a.createElement(X.g,{width:"100%",height:400},i.a.createElement(X.b,{data:this.state.bookingList,margin:{top:20,right:40,left:20,bottom:20}},i.a.createElement(X.c,{strokeDasharray:"3 3"}),i.a.createElement(X.i,{dataKey:"staff"}),i.a.createElement(X.j,null),i.a.createElement(X.h,null),i.a.createElement(X.d,null),i.a.createElement(X.a,{dataKey:"Bookings",fill:"#82ca9d"})))))}}]),t}(i.a.Component),Ne=Object(M.a)(function(e){return{extendedIcon:{marginRight:e.spacing(1)}}})(Ie),Te=a(147),We=a(48),Le=a(402),Pe=a(641),De=a.n(Pe),Me=a(642),Ae=a.n(Me),Re=a(67),Be=(a(884),a(885),a(469)),ze=a(470),Fe=a(471),_e=a(555),Ge=a(367),Ve=a(236),Ue=a(111),Ke=a.n(Ue),$e=a(245),He=a.n($e),Ye=a(247),Xe=a(368),Je=a(397),qe=a(304),Qe=a(56),Ze=a(1126),et=a(7),tt=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(J.a,{className:e.paperMargin},i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,direction:"column"},i.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},i.a.createElement(_e.a,{item:!0,xs:2},i.a.createElement(Qe.a,{utils:Ye.a},i.a.createElement(Ze.a,{ampm:!1,minutesStep:5,autoOk:!0,label:"Start Time",value:this.props.start,onChange:this.props.changeTime,KeyboardButtonProps:{"aria-label":"change time"},disabled:this.props.disable}))),i.a.createElement(_e.a,{item:!0},i.a.createElement(Ge.a,{className:e.serviceControl},i.a.createElement(Xe.a,{htmlFor:"age-native-simple"},"Service Category"),i.a.createElement(Je.a,{value:this.props.category,onChange:this.props.changeCategory,input:i.a.createElement(qe.a,{id:"age-native-simple"}),disabled:this.props.disable},this.props.categoryList.map(function(e,t){return i.a.createElement(se.a,{id:t,value:e.value},e.label)}))))),i.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},i.a.createElement(_e.a,{item:!0},i.a.createElement(Ge.a,{className:e.serviceControl},i.a.createElement(Xe.a,{htmlFor:"age-native-simple"},"Service Type"),i.a.createElement(Je.a,{value:this.props.service,onChange:this.props.changeService,input:i.a.createElement(qe.a,{id:"age-native-simple"}),disabled:this.props.disable},this.props.serviceList.map(function(e,t){return i.a.createElement(se.a,{id:t,value:e._id},"".concat(e.name," ( ").concat(e.duration," mins $").concat(e.price," )"))})))),i.a.createElement(_e.a,{item:!0},i.a.createElement(Ge.a,{className:e.staffControl},i.a.createElement(Xe.a,{htmlFor:"age-native-simple"},"Staff Name"),i.a.createElement(Je.a,{value:this.props.staff,onChange:this.props.changeStaff,input:i.a.createElement(qe.a,{id:"age-native-simple"}),disabled:this.props.disable},this.props.staffList&&this.props.staffList.map(function(e){return i.a.createElement(se.a,{value:e._id},e.displayName)})))))),i.a.createElement(oe.a,{color:"secondary",onClick:this.props.removeBooking,"aria-label":"close",disabled:this.props.disable},i.a.createElement(He.a,null))))}}]),t}(i.a.Component),at=Object(et.a)(function(e){return{formControl:{margin:e.spacing(3),minWidth:500},serviceControl:{margin:e.spacing(3),minWidth:500},staffControl:{margin:e.spacing(3),minWidth:150},paperMargin:{margin:e.spacing(1)}}})(tt),nt=Object(Le.c)(Ae.a),rt=De()(Le.a),it=i.a.forwardRef(function(e,t){return i.a.createElement(Be.a,Object.assign({direction:"up",ref:t},e))}),ot=new Date;ot.setHours(10,0,0);var lt=new Date;lt.setHours(23,0,0);var st=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={eventOpen:!1,categoryList:[],staffList:[],serviceList:[],clientList:[],selectedClient:null,events:[],editFlag:!1,fullStaffList:[],bookings:[{_id:null,start:null,end:null,staff:null,service:null,availableServiceList:[],serviceStaffList:[]}],checkout:!1,minTime:ot,maxTime:lt},a.handleSelectClientChange=function(e){a.setState({selectedClient:e})},a.handleConfirmBookings=function(){var e=a.state,t=e.bookings,n=e.selectedClient;if(t.length<=0)U.a.fire({customClass:{container:a.props.classes.alert},type:"error",title:"Please Select Service !!!"});else{for(var r=0;r<t.length;r++){if(!t[r].service)return void U.a.fire({customClass:{container:a.props.classes.alert},type:"error",title:"Please Select Service!!!"});if(!t[r].staff)return void U.a.fire({customClass:{container:a.props.classes.alert},type:"error",title:"Please Select Staff!!!"})}if(n){if(a.state.editFlag){var i=t.map(function(e){return e.client=a.state.selectedClient.value,e});a.submitUpdateBooking(i)}else{var o=t.map(function(e){return e.client=a.state.selectedClient.value,delete e._id,e});a.submitNewBooking(o)}a.handleEventClose()}else U.a.fire({customClass:{container:a.props.classes.alert},type:"error",title:"Please Select Customer!!!"})}},a.handleEventClose=function(){a.setState({editFlag:!1,eventOpen:!1,selectedClient:null,staffList:a.state.fullStaffList,bookings:[{_id:null,start:null,end:null,staff:null,service:null,availableServiceList:[],serviceStaffList:[]}]})},a.moveBooking=function(e){var t=e.event,n=e.start,r=e.end,i=e.resourceId;if(t.client&&t.service){var o=a.state.events,l=o.indexOf(t),s=Object(We.a)({},t,{start:n,resourceId:i,end:r}),c=Object(Te.a)(o);c.splice(l,1,s);var u={start:s.start,end:s.end,staff:s.resourceId};a.handleUpdateBackendEvent(u,s,c)}else U.a.fire({type:"error",title:"Unable to edit leave from booking. Please edit in staff page!!!"})},a.resizeBooking=function(e){var t=e.event,n=e.start,r=e.end;if(t.client&&t.service){var i=a.state.events.map(function(e){return e.id===t.id?Object(We.a)({},e,{start:n,end:r}):e}),o={start:n,end:r};a.handleUpdateBackendEvent(o,t,i)}else U.a.fire({type:"error",title:"Unable to edit leave from booking. Please edit in staff page!!!"})},a.newBooking=function(e){var t=Object(We.a)({},a.state.bookings[0]);t.start=e.start,t.staff=e.resourceId,t._id=0;var n=Object(Te.a)(a.state.bookings);n[0]=t,a.setState({eventOpen:!0,bookings:n})},a.handleEditBooking=function(){var e=Object(f.a)(d.a.mark(function e(t){var n,r,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.client||!t.service){e.next=18;break}return e.next=3,I("GET","appointmentMgt/appointment/".concat(t.appointment));case 3:n=e.sent,r=a.state.clientList.findIndex(function(e){return e.value===t.client}),i=0;case 6:if(!(i<n.bookings.length)){e.next=15;break}return e.next=9,I("GET","appointmentMgt/availableservice/".concat(n.bookings[i].service.category));case 9:n.bookings[i].availableServiceList=e.sent,n.bookings[i].category=n.bookings[i].service.category,n.bookings[i].service=n.bookings[i].service._id;case 12:i++,e.next=6;break;case 15:a.setState({selectedClient:a.state.clientList[r],bookings:n.bookings,appointment:n,editFlag:!0,eventOpen:!0}),e.next=19;break;case 18:U.a.fire({type:"error",title:"Unable to edit leave from booking. Please edit in staff page!!!"});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.deleteAppointment=function(){U.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",customClass:{container:a.props.classes.alert}}).then(function(e){var t=a.state,n=t.appointment,r=t.events;e.value&&I("DELETE","appointmentMgt/appointment/".concat(n._id)).then(function(e){if(e&&e.ok)for(var t=Object(Te.a)(r),i=function(e){var r=t.findIndex(function(t){return t.id===n.bookings[e]._id});t.splice(r,1),a.setState({events:t})},o=0;o<n.bookings.length;o++)i(o);a.handleEventClose(),U.a.fire("Deleted!","Your file has been deleted.","success")})})},a.handleAddBooking=function(){var e=Object(We.a)({},a.state.bookings[a.state.bookings.length-1]);"number"===typeof e._id?e._id=++e._id:e._id=0,e.staff=null;var t=Object(Te.a)(a.state.bookings);t.push(e),a.setState({eventOpen:!0,bookings:t})},a.handleRemoveBooking=function(e){var t=Object(Te.a)(a.state.bookings);t.splice(e,1),a.setState({bookings:t})},a.handleChangeBooking=function(){var e=Object(f.a)(d.a.mark(function e(t,n,r){var i,o,l,s,c,u,m,p,f=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>3&&void 0!==f[3]?f[3]:null,o=a.state.bookings.findIndex(function(e){return e._id===n}),l=Object(We.a)({},a.state.bookings[o]),"Time"!==r){e.next=8;break}l.start=t,null!=l.service&&(s=a.state.bookings[o].availableServiceList.find(function(e){return e._id===l.service}),l.end=new Date(l.start.getTime()+6e4*s.duration)),e.next=32;break;case 8:if("Category"!==r){e.next=15;break}return l.category=t.target.value,e.next=12,I("GET","appointmentMgt/availableservice/".concat(l.category));case 12:l.availableServiceList=e.sent,e.next=32;break;case 15:if("Service"!==r){e.next=31;break}return c=i.props.id,u=a.state.bookings[o].availableServiceList[c],a.state.editFlag?u.start=new Date(l.start):u.start=l.start,u.end=new Date(u.start.getTime()+6e4*u.duration),l.service=t.target.value,l.end=u.end,e.next=24,I("POST","appointmentMgt/availablestaff",u);case 24:0===(m=e.sent).length&&(m=[{displayName:"No Staff Available"}]),l.serviceStaffList=m,m.find(function(e){return e._id===l.staff})||(l.staff=null),a.setState({staffList:m}),e.next=32;break;case 31:l.staff=t.target.value;case 32:(p=Object(Te.a)(a.state.bookings))[o]=l,a.setState({bookings:p});case 35:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.handleCheckOut=function(){a.setState({checkout:!0}),a.handleConfirmBookings()},a.handleInvoice=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("GET","invoiceMgt/appointmentToInvoice/".concat(a.state.appointment._id));case 2:t=e.sent,a.props.history.push({pathname:"/invoice/detail",state:{invoice:t}});case 5:case"end":return e.stop()}},e)})),a.navigateToCheckoutDetail=function(){var e=Object(f.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.checkout){e.next=6;break}return e.next=3,I("GET","invoiceMgt/appointment/".concat(t));case 3:n=e.sent,a.props.history.push({pathname:"/invoice/detail",state:{appointment:n}});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n,r,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/workingStaff");case 3:return t=e.sent,e.next=6,I("GET","serviceMgt/services");case 6:return a=e.sent,e.next=9,I("GET","appointmentMgt/bookings");case 9:return n=e.sent,e.next=12,I("GET","clientMgt/clients");case 12:return r=e.sent,e.next=15,I("GET","serviceMgt/category");case 15:i=e.sent,o=r.map(function(e){return{value:e._id,label:"".concat(e.mobile," (").concat(e.displayName,")")}}),n.map(function(e){e.start=new Date(e.start),e.end=new Date(e.end)}),this.setState({fullStaffList:t,staffList:t,serviceList:a,clientList:o,events:n,appointment:null,categoryList:i}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"submitUpdateBooking",value:function(e){var t=this;if(e){var a=this.state.appointment;I("PATCH","appointmentMgt/appointment/".concat(a._id),e).then(function(e){if(e&&e.ok){var n=e.bookings,r=[];n.map(function(e){r.push(e._id)}),a.bookings.filter(function(e){return-1===r.indexOf(e._id)}).map(function(e){var a=t.state.events,n=a.findIndex(function(t){return t.id===e._id});if(-1!==n){var r=Object(Te.a)(a);r.splice(n,1),t.setState({events:r})}}),n.map(function(e){var a={_id:e._id,id:e._id,title:e.title,start:new Date(e.start),end:new Date(e.end),resourceId:e.staff,client:e.client,service:e.service,appointment:e.appointment},n=t.state.events,r=n.findIndex(function(e){return e.id===a.id});if(-1!==r){var i=Object(Te.a)(n);i.splice(r,1,a),t.setState({events:i})}else t.setState({events:t.state.events.concat([a])})}),t.navigateToCheckoutDetail(e.appointmentId)}else U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error,customClass:{container:t.props.classes.alert}})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e,customClass:{container:t.props.classes.alert}})})}else U.a.fire({type:"error",title:"Opps... Something Wrong...",text:"No Booking found",customClass:{container:this.props.classes.alert}})}},{key:"submitNewBooking",value:function(e){var t=this;I("POST","appointmentMgt/appointment",e).then(function(e){e&&e.ok?(e.bookings.map(function(e){var a={id:e._id,title:e.title,start:new Date(e.start),end:new Date(e.end),resourceId:e.staff,client:e.client,service:e.service,appointment:e.appointment};t.setState({events:t.state.events.concat([a])})}),t.navigateToCheckoutDetail(e.appointmentId)):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error,customClass:{container:t.props.classes.alert}})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e,customClass:{container:t.props.classes.alert}})})}},{key:"handleUpdateBackendEvent",value:function(){var e=Object(f.a)(d.a.mark(function e(t,a,n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("PATCH","appointmentMgt/bookings/".concat(a.id),t);case 2:(r=e.sent)&&r.ok?this.setState({events:n}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:r.error});case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"Calendar"},this.props),i.a.createElement(J.a,null," ",i.a.createElement(R.a,{p:2},i.a.createElement(rt,{selectable:!0,resizable:!0,localizer:nt,events:this.state.events,onEventDrop:this.moveBooking,onEventResize:this.resizeBooking,onSelectSlot:this.newBooking,onSelectEvent:this.handleEditBooking,defaultView:Le.b.DAY,views:["day","week"],defaultDate:new Date,step:10,timeslots:3,resources:this.state.staffList,resourceIdAccessor:"_id",resourceTitleAccessor:"displayName",min:this.state.minTime,max:this.state.maxTime}),i.a.createElement(ze.a,{fullScreen:!0,open:this.state.eventOpen,onClose:this.handleEventClose,TransitionComponent:it},i.a.createElement(ce.a,{className:t.titleBar},i.a.createElement(ue.a,null,i.a.createElement(B.a,{variant:"h6",className:t.title},this.state.editFlag?"Update Appointment":"New Appointment"),i.a.createElement(oe.a,{edge:"start",color:"inherit",onClick:this.handleEventClose,"aria-label":"close"},i.a.createElement(He.a,null)))),i.a.createElement(Fe.a,{dividers:"paper"},i.a.createElement(_e.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:500}},this.state.editFlag?this.state.bookings.map(function(t,a){return i.a.createElement(at,{key:t._id,category:t.category,staff:t.staff,service:t.service,start:t.start,staffList:e.state.staffList,serviceList:t.availableServiceList,categoryList:e.state.categoryList,disable:e.state.appointment.checkout,changeTime:function(a){return e.handleChangeBooking(a,t._id,"Time")},changeService:function(a,n){return e.handleChangeBooking(a,t._id,"Service",n)},changeStaff:function(a){return e.handleChangeBooking(a,t._id,"Staff")},changeCategory:function(a){return e.handleChangeBooking(a,t._id,"Category")},removeBooking:function(){return e.handleRemoveBooking(a)}})}):this.state.bookings.map(function(t,a){return i.a.createElement(at,{key:t._id,category:t.category,staff:t.staff,service:t.service,start:t.start,staffList:e.state.staffList,serviceList:t.availableServiceList,categoryList:e.state.categoryList,changeTime:function(a){return e.handleChangeBooking(a,t._id,"Time")},changeService:function(a,n){return e.handleChangeBooking(a,t._id,"Service",n)},changeStaff:function(a){return e.handleChangeBooking(a,t._id,"Staff")},changeCategory:function(a){return e.handleChangeBooking(a,t._id,"Category")},removeBooking:function(){return e.handleRemoveBooking(a)}})}),i.a.createElement(Ge.a,{className:t.formControl},i.a.createElement(Re.a,{onChange:this.handleSelectClientChange,options:this.state.clientList,value:this.state.selectedClient,placeholder:"Please Select a Customer...",isDisabled:!!this.state.editFlag&&this.state.appointment.checkout})),this.state.editFlag&&this.state.appointment.checkout?null:i.a.createElement(oe.a,{color:"primary",onClick:this.handleAddBooking,"aria-label":"close"},i.a.createElement(Ke.a,{fontSize:"large"}))),this.state.editFlag?i.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end",spacing:10},this.state.appointment.checkout?i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(ct,{fullWidth:!0,variant:"contained",onClick:this.handleInvoice},"Invoice")):i.a.createElement(i.a.Fragment,null,i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(z.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:this.deleteAppointment},"Delete")),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(z.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleConfirmBookings},"Update Appointment")),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(ct,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleCheckOut},"Checkout")))):i.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end",spacing:10},i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(z.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleConfirmBookings},"Save Appointment")),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(ct,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleCheckOut},"Express Checkout"))))))))}}]),t}(i.a.Component),ct=Object(M.a)(function(e){return{root:{color:e.palette.getContrastText(Ve.a[600]),backgroundColor:Ve.a[600],"&:hover":{backgroundColor:Ve.a[700]},marginTop:30}}})(z.a),ut=Object(M.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},titleBar:{position:"relative"},formControl:{margin:e.spacing(1),minWidth:600},title:{marginLeft:e.spacing(2),flex:1},alert:{zIndex:2e3}}})(st),mt=a(166),pt=a.n(mt),dt=a(561),ft=a(389),ht=a.n(ft),gt=[{name:"displayName",label:"Display Name",options:{filter:!1,sort:!0}},{name:"mobile",label:"Mobile",options:{filter:!1,sort:!0}},{name:"email",label:"Email",options:{filter:!1,sort:!0}},{name:"credit",label:"Credit",options:{filter:!1,sort:!0}},{name:"gender",label:"Gender",options:{filter:!0,sort:!0}},{name:"nric",label:"NRIC",options:{filter:!1,sort:!0}},{name:"birthday",label:"Birthday Month",options:{filter:!0,sort:!0}}];var bt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={clientList:[]},a.handleAddClient=function(){a.props.history.push("/client/new")},a.handleRowClick=function(e){a.props.history.push({pathname:"/client/detail",state:{data:a.state.clientList[e.dataIndex]}})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","clientMgt/clients");case 3:(t=e.sent).map(function(e){return e.birthday=e.birthday?new Date(e.birthday).getMonth()+1:"-",e.nric=(t=e.nric,a=0,n=5,r="*****",t.substring(0,a)+r+t.substring(n));var t,a,n,r}),this.setState({clientList:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRowDelete",value:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.map(function(e){return r.state.clientList[e.dataIndex]}),e.next=4,I("DELETE","clientMgt/clients",a);case 4:(n=e.sent)&&n.ok?U.a.fire({type:"success",text:n.ok,title:"Success!"}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(je,Object.assign({title:"Clients"},this.props),i.a.createElement(_e.a,{container:!0,justify:"flex-end",spacing:32},i.a.createElement(_e.a,{item:!0,xs:12},i.a.createElement(pt.a,{title:"Client List",data:this.state.clientList,columns:gt,options:{customToolbar:function(){return i.a.createElement(dt.a,{title:"Add Client"},i.a.createElement(oe.a,{onClick:e.handleAddClient},i.a.createElement(ht.a,null)))},onRowClick:function(t,a){e.handleRowClick(a)},onRowsDelete:function(t){e.handleRowDelete(t.data)},filterType:"checkbox"}}))))}}]),t}(i.a.Component),vt=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)},row:{height:"42px",display:"flex",alignItems:"center",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})(bt),yt=a(303),Et=[{value:"M",label:"M"},{value:"F",label:"F"}],kt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={gender:Et[0],birthday:null},a.handleGenderSelection=function(e){a.setState({gender:e})},a.handleChangeBirthday=function(e){a.setState({birthday:e.target.value})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"handleCancel",value:function(){window.history.back()}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"New Client"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(B.a,null,i.a.createElement("h3",null,"New Client Onboard")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{mobile:"",password:"",confirmPassoword:"",email:"",displayName:"",nric:""},validate:function(e){var t={};return e.mobile||(t.mobile="Please enter mobile number"),e.displayName||(t.displayName="Please enter display name"),e.password!==e.confirmPassoword&&(t.confirmPassoword="Password does not match"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,n.setErrors,t.prev=1,a.gender=e.state.gender.value,a.birthday=e.state.birthday,t.next=6,I("POST","clientMgt/clients",a);case 6:(i=t.sent)&&i.ok?window.history.back():U.a.fire({type:"error",title:"Opps... Something Wrong...",text:i.error}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.t0});case 13:r(!1);case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(a){var n=a.submitForm,r=a.isSubmitting;a.values,a.setFieldValue,a.errors,a.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"confirmPassoword",label:"Confirm Password",type:"password"})," */}",i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"nric",label:"NRIC"}),i.a.createElement(yt.a,{fullWidth:!0,margin:"normal",variant:"outlined",id:"date",label:"Birthday",type:"date",InputLabelProps:{shrink:!0},onChange:e.handleChangeBirthday}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Gender")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleGenderSelection,options:Et,value:e.state.gender}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:r,onClick:n},"Register"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),r&&i.a.createElement(F.a,null))}})))}}]),t}(i.a.Component),Ct=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(kt),Ot=a(562),St=a(563),xt=a(472),wt=(a(919),a(626)),jt=a(565);var It=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){this.props.classes;return i.a.createElement(te.a,{button:!0,onClick:this.props.click},i.a.createElement(_e.a,{container:!0,direction:"column"},this.props.bookings.map(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_e.a,{item:!0},i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("h3",null,i.a.createElement("strong",null,e.service.name)),i.a.createElement("h3",null,i.a.createElement("strong",null,"S$",e.service.price)))),i.a.createElement(_e.a,{item:!0},i.a.createElement("light",null,new Date(e.start).toLocaleString()," with ",e.staff.displayName," ")))}),i.a.createElement(_e.a,{item:!0},i.a.createElement(_e.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},i.a.createElement("h3",null,i.a.createElement("strong",null,"Total: $",function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].service.price;return t}(this.props.bookings)," "))))))}}]),t}(i.a.Component),Nt=Object(et.a)(function(e){return{listitem:{margin:e.spacing(1),width:"100%"}}})(It),Tt=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){this.props.classes;return i.a.createElement(te.a,{button:!0,onClick:this.props.click},i.a.createElement(_e.a,{container:!0,direction:"column"},this.props.invoice.appointment.bookings.map(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_e.a,{item:!0},i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("h3",null,i.a.createElement("strong",null,e.service.name)),i.a.createElement("h3",null,i.a.createElement("strong",null,"S$",e.service.price)))),i.a.createElement(_e.a,{item:!0},i.a.createElement("light",null,new Date(e.start).toLocaleString()," with ",e.staff.displayName," ")))}),i.a.createElement(_e.a,{item:!0},i.a.createElement(_e.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},i.a.createElement("h3",null,i.a.createElement("strong",null,"Addon: $",this.props.invoice.addon," ")),i.a.createElement("h3",null,i.a.createElement("strong",null,"Discount: $",this.props.invoice.discount," ")),i.a.createElement("h3",null,i.a.createElement("strong",null,"Total: $",this.props.invoice.total," "))))))}}]),t}(i.a.Component),Wt=Object(et.a)(function(e){return{listitem:{margin:e.spacing(1),width:"100%"}}})(Tt);function Lt(e){return i.a.createElement(Nt,{bookings:e.bookings,click:e.click})}function Pt(e){return i.a.createElement(Wt,{invoice:e.invoice,click:e.click})}function Dt(e){return i.a.createElement(te.a,{button:!0},e.creditRecord.staff?i.a.createElement(_e.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row"},i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement("strong",null,"S$",e.creditRecord.amount)),i.a.createElement("light",null,new Date(e.creditRecord.createdAt).toLocaleString())),"Added By ",e.creditRecord.staff.displayName):i.a.createElement(_e.a,{container:!0,justify:"space-between",alignItems:"center",direction:"row"},i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement("strong",null,"S$",e.creditRecord.amount)),i.a.createElement("light",null,new Date(e.creditRecord.createdAt).toLocaleString())),i.a.createElement("div",null,e.creditRecord.services.map(function(e){return i.a.createElement("div",null,e)}))))}function Mt(e){var t=e.children,a=e.value,r=e.index,o=Object(n.a)(e,["children","value","index"]);return i.a.createElement(B.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},o),i.a.createElement(R.a,{p:3},t))}function At(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Rt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,index:null},a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({index:e})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.appointments,n=t.invoices,r=t.creditRecords,o=this.state.value;return i.a.createElement("div",null,i.a.createElement(wt.a,{value:o,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable","aria-label":"full width tabs example"},i.a.createElement(jt.a,Object.assign({label:"Appointments"},At(0))),i.a.createElement(jt.a,Object.assign({label:"Invoices"},At(1))),i.a.createElement(jt.a,Object.assign({label:"Credit Record"},At(2)))),i.a.createElement(Mt,{value:o,index:0},a?a.map(function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z.a,null),i.a.createElement(Lt,{bookings:t.bookings,click:function(){e.props.history.push({pathname:"/invoice/detail",state:{appointment:t}})}}),i.a.createElement(Z.a,null))}):null),i.a.createElement(Mt,{value:o,index:1},n?n.map(function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z.a,null),i.a.createElement(Pt,{invoice:t,click:function(){e.props.history.push({pathname:"/invoice/detail",state:{invoice:t}})}}),i.a.createElement(Z.a,null))}):null),i.a.createElement(Mt,{value:o,index:2},r?r.map(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Z.a,null),i.a.createElement(Dt,{creditRecord:e}),i.a.createElement(Z.a,null))}):null))}}]),t}(i.a.Component),Bt=Object(M.a)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}})(Rt);var zt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={addCreditDialog:!1,credit:"",client:"",totalBookings:0,totalCompleted:0,totalSales:0,totalMiss:0,appointments:null,invoices:null},a.handleEditClick=function(){a.props.history.push({pathname:"/client/update",state:{data:a.state.client}})},a.addCreditValueChange=function(e){a.setState({credit:e.target.value})},a.handleAddCreditOpen=function(){a.setState({addCreditDialog:!0})},a.handleAddCreditClose=function(){a.setState({addCreditDialog:!1,credit:""})},a.handleAddCreditConfirm=function(){if(a.handleAddCreditClose(),a.state.credit){var e={credit:a.state.credit};I("POST","creditRecordMgt/addcredit/".concat(a.state.client._id),e).then(function(e){e&&e.ok?(a.setState({client:e.client,creditRecords:a.state.creditRecords.concat([e.creditRecord])}),U.a.fire({type:"success",text:e.ok,title:"Success!"})):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n,r,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","clientMgt/clients/".concat(this.props.location.state.data._id));case 3:return t=e.sent,e.next=6,I("GET","clientMgt/statistics/".concat(this.props.location.state.data._id));case 6:return a=e.sent,e.next=9,I("GET","clientMgt/appointments/".concat(this.props.location.state.data._id));case 9:return n=e.sent,e.next=12,I("GET","clientMgt/invoices/".concat(this.props.location.state.data._id));case 12:return r=e.sent,e.next=15,I("GET","clientMgt/creditRecordList/".concat(this.props.location.state.data._id));case 15:i=e.sent,t?(t.nric=(o=t.nric,l=0,s=5,c="*****",o.substring(0,l)+c+o.substring(s)),this.setState({client:t})):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.error}),a&&a.ok&&(a.totalCompleted?this.setState({totalBookings:a.totalBookings,totalCompleted:a.totalCompleted,totalSales:a.totalSales,totalMiss:a.totalBookings-a.totalCompleted}):a.totalBookings&&this.setState({totalBookings:a.totalBookings})),n&&n.ok&&this.setState({appointments:n.appointments}),r&&r.ok&&this.setState({invoices:r.invoices}),i&&i.ok&&this.setState({creditRecords:i.creditRecordList}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 26:case"end":return e.stop()}var o,l,s,c},e,this,[[0,23]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"Client Details"},this.props),i.a.createElement(_e.a,{container:!0,justify:"center",spacing:3},i.a.createElement(_e.a,{item:!0,xs:5},i.a.createElement(J.a,null,i.a.createElement(ee.a,{className:t.list},i.a.createElement(ae.a,{className:t.listAvatar},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(ne.a,{alt:"Remy Sharp",className:t.bigAvatar},w(this.props.location.state.data.displayName)," "),i.a.createElement(B.a,{variant:"h4",style:{marginTop:"10px"}}," ",this.state.client.displayName," "))),i.a.createElement(Z.a,null),i.a.createElement(te.a,null,i.a.createElement(_e.a,null,i.a.createElement(B.a,{className:t.labelColor}," Email "),i.a.createElement(B.a,null," ",this.state.client.email?this.state.client.email:"-"," "))),i.a.createElement(te.a,null,i.a.createElement(_e.a,null,i.a.createElement(B.a,{className:t.labelColor}," Gender "),i.a.createElement(B.a,null," ",this.state.client.gender," "))),i.a.createElement(te.a,null,i.a.createElement(_e.a,null,i.a.createElement(B.a,{className:t.labelColor}," NRIC "),i.a.createElement(B.a,null," ",this.state.client.nric," "))),i.a.createElement(te.a,null,i.a.createElement(_e.a,null,i.a.createElement(B.a,{className:t.labelColor}," Mobile "),i.a.createElement(B.a,null," ",this.state.client.mobile," "))),i.a.createElement(te.a,null,i.a.createElement(_e.a,null,i.a.createElement(B.a,{className:t.labelColor}," Birthday "),i.a.createElement(B.a,null," ",this.state.client.birthday?new Date(this.state.client.birthday).toLocaleDateString():"-"," "))),i.a.createElement(te.a,null,i.a.createElement(Ot.a,{fullWidth:!0},i.a.createElement(z.a,{onClick:this.handleEditClick},"Edit"),i.a.createElement(z.a,{onClick:this.handleAddCreditOpen},"Add Credit"),i.a.createElement(z.a,{onClick:function(){return e.props.history.push("/appointment")}},"New Appointment")))))),i.a.createElement(_e.a,{item:!0,xs:7},i.a.createElement(_e.a,{container:!0,spacing:3,direction:"column"},i.a.createElement(_e.a,{item:!0},i.a.createElement(J.a,null,i.a.createElement(ee.a,null,i.a.createElement(te.a,{style:{minHeight:100}},i.a.createElement(_e.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(B.a,{variant:"h5"}," ",this.state.client.credit," "),i.a.createElement(B.a,{className:t.labelColor}," Credit Balance "))),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(B.a,{variant:"h5"}," $",this.state.totalSales," "),i.a.createElement(B.a,{className:t.labelColor}," Total Sales "))))),i.a.createElement(Z.a,null),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(B.a,{variant:"h6"}," ",this.state.totalBookings," "),i.a.createElement(B.a,{className:t.labelColor}," All Bookings "))),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(B.a,{variant:"h6"}," ",this.state.totalCompleted," "),i.a.createElement(B.a,{className:t.labelColor}," Completed "))),i.a.createElement(_e.a,{item:!0,xs:3},i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(B.a,{variant:"h6"}," ",this.state.totalMiss," "),i.a.createElement(B.a,{className:t.labelColor}," Missed ")))))))),i.a.createElement(_e.a,{item:!0},i.a.createElement(J.a,null,i.a.createElement(Bt,Object.assign({},this.props,{appointments:this.state.appointments?this.state.appointments:null,invoices:this.state.invoices?this.state.invoices:null,creditRecords:this.state.creditRecords?this.state.creditRecords:null}))))))),i.a.createElement(ze.a,{open:this.state.addCreditDialog,onClose:this.handleAddCreditClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(St.a,{id:"form-dialog-title"},"Add Credit"),i.a.createElement(Fe.a,{style:{minWidth:400}},i.a.createElement(yt.a,{autoFocus:!0,margin:"dense",label:"Amount",type:"number",fullWidth:!0,placeholder:"Please enter amount...",onChange:this.addCreditValueChange,value:this.state.credit})),i.a.createElement(xt.a,null,i.a.createElement(z.a,{onClick:this.handleAddCreditClose,color:"primary"},"Cancel"),i.a.createElement(z.a,{onClick:this.handleAddCreditConfirm,color:"primary"},"Confirm"))))}}]),t}(i.a.Component),Ft=Object(M.a)(function(e){return{bigAvatar:{margin:10,width:100,height:100},list:{width:"100%"},listAvatar:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},listButton:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(1),marginBottom:e.spacing(1)},labelColor:{color:"#969590"}}})(zt),_t=[{value:"M",label:"M"},{value:"F",label:"F"}],Gt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={gender:{value:a.props.location.state.data.gender,label:a.props.location.state.data.gender},birthday:null},a.handleGenderSelection=function(e){a.setState({gender:e})},a.handleChangeBirthday=function(e){a.setState({birthday:e.target.value})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"Staff Details"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Update Client Details")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{mobile:this.props.location.state.data.mobile,displayName:this.props.location.state.data.displayName,email:this.props.location.state.data.email,nric:this.props.location.state.data.nric,credit:this.props.location.state.data.credit},validate:function(e){var t={};return e.mobile||(t.mobile="Please enter mobile number"),e.displayName||(t.displayName="Please enter display name"),e.password!==e.confirmPassoword&&(t.confirmPassoword="Password does not match"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,a.gender=e.state.gender.value,a.birthday=e.state.birthday,t.next=6,I("PATCH","clientMgt/clients/".concat(e.props.location.state.data._id),a);case 6:(i=t.sent)&&i.ok?e.props.history.push({pathname:"/client/detail",state:{data:i.client}}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:i.error}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.t0});case 13:r(!1);case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(a){var n=a.submitForm,r=a.isSubmitting;a.values,a.setFieldValue,a.errors,a.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"New Passowrd",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"confirmPassoword",label:"Confirm Password",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"nric",label:"NRIC"}),i.a.createElement(yt.a,{fullWidth:!0,margin:"normal",variant:"outlined",id:"date",label:"Birthday",type:"date",InputLabelProps:{shrink:!0},onChange:e.handleChangeBirthday}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Gender")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleGenderSelection,options:_t,value:e.state.gender}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:r,onClick:n},"Update"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),r&&i.a.createElement(F.a,null))}})))}}]),t}(i.a.Component),Vt=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)}}})(Gt),Ut=[{name:"username",label:"Userame",options:{filter:!1,sort:!0}},{name:"displayName",label:"Display Name",options:{filter:!1,sort:!0}},{name:"email",label:"Email",options:{filter:!1,sort:!0}},{name:"mobile",label:"Mobile",options:{filter:!1,sort:!0}},{name:"role.name",label:"Role",options:{filter:!0,sort:!0}}],Kt=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(W.a)(this,Object(L.a)(t).call(this))).handleAddStaff=function(){e.props.history.push("/staff/new")},e.handleAddRole=function(){},e.handleRowClick=function(t){e.props.history.push({pathname:"/staff/detail",state:{data:e.state.userList[t.dataIndex]}})},e.state={userList:[]},e}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/staffs");case 3:t=e.sent,this.setState({userList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRowDelete",value:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.map(function(e){return r.state.userList[e.dataIndex]}),e.next=4,I("DELETE","staffMgt/staffs",a);case 4:(n=e.sent)&&n.ok?U.a.fire({type:"success",text:n.ok,title:"Success!"}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(je,Object.assign({title:"Staff List"},this.props),i.a.createElement(_e.a,{container:!0,justify:"flex-end",spacing:32},i.a.createElement(_e.a,{item:!0,xs:12},i.a.createElement(pt.a,{title:"Client List",data:this.state.userList,columns:Ut,options:{customToolbar:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,{title:"Add Staff"},i.a.createElement(oe.a,{onClick:e.handleAddStaff},i.a.createElement(ht.a,null))))},onRowClick:function(t,a){e.handleRowClick(a)},onRowsDelete:function(t){e.handleRowDelete(t.data)},filterType:"checkbox"}}))))}}]),t}(i.a.Component),$t=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)},row:{height:"42px",display:"flex",alignItems:"center",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})(Kt),Ht=a(101),Yt=(a(572),function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={selectedOption:{},roleList:[],selectedLeaves:[],selectedOff:[],offDays:[],leaveOpen:!1,offOpen:!1},a.handleChange=function(e){a.setState({selectedOption:e})},a.handleLeaveClickOpen=function(){a.setState({leaveOpen:!0})},a.handleLeaveOpen=function(){a.setState({leaveOpen:!1})},a.handleLeaveClose=function(){a.setState({leaveOpen:!1})},a.handleOffClickOpen=function(){a.setState({offOpen:!0})},a.handleOffOpen=function(){a.setState({offOpen:!1})},a.handleOffClose=function(){a.setState({offOpen:!1})},a.handleOffReset=function(){a.setState({offDays:[],selectedOff:[]})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/roles");case 3:t=e.sent,this.setState({roleList:t,selectedOption:t[0]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleLeaveSelection",value:function(e){var t=Object(Ht.c)(e,this.state.selectedLeaves);this.setState({selectedLeaves:t})}},{key:"handleOffSelection",value:function(e){var t=Object(Ht.c)(e,this.state.selectedOff),a=t.map(function(e){return e.getDay()});this.setState({offDays:a,selectedOff:t})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.selectedOption;return i.a.createElement(je,Object.assign({title:"New Staff"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Personal Infomation")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{username:"",password:"",confirmPassoword:"",mobile:"",email:""},validate:function(e){var t={};return e.username||(t.username="Please enter username"),e.password||(t.password="Please enter password"),e.confirmPassoword||(t.confirmPassoword="Please enter password"),e.displayName||(t.displayName="Please enter display name"),e.mobile||(t.mobile="Please enter mobile number"),e.email||(t.email="Please enter email address"),e.password!==e.confirmPassoword&&(t.confirmPassoword="Password does not match"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,n.setErrors,t.prev=1,a.role=e.state.selectedOption.value,a.offDays=e.state.offDays,a.leaveDays=e.state.selectedLeaves,t.next=7,I("POST","staffMgt/staffs",a);case 7:(i=t.sent)&&i.ok?window.history.back():U.a.fire({type:"error",title:"Opps... Something Wrong...",text:i.error}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.t0});case 14:r(!1);case 15:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(n){var r=n.submitForm,o=n.isSubmitting;n.values,n.setFieldValue,n.errors,n.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,autoFocus:!0,name:"username",label:"Username"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"confirmPassoword",label:"Confirm Password",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email"}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Role")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleChange,options:e.state.roleList,value:a}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"On Leave")),i.a.createElement(z.a,{variant:"outlined",color:"primary",onClick:e.handleLeaveClickOpen},"Please Select Leave Days..."),i.a.createElement(ze.a,{open:e.state.leaveOpen,onClose:e.handleLeaveClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(St.a,{id:"form-dialog-title"},"Subscribe"),i.a.createElement(Fe.a,null,i.a.createElement(Ht.b,{id:"leaveCalendar",Component:Object(Ht.d)(Ht.a),selected:e.state.selectedLeaves,minDate:new Date,disabledDays:e.state.offDays,interpolateSelection:Ht.c,onSelect:function(t){e.handleLeaveSelection(t)}})),i.a.createElement(xt.a,null,i.a.createElement(z.a,{onClick:e.handleLeaveClose,color:"primary"},"Done"))),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:o,onClick:r},"Register"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),o&&i.a.createElement(F.a,null))}})))}}]),t}(i.a.Component)),Xt=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(Yt),Jt=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={selectedOption:{value:a.props.location.state.data.role._id,label:a.props.location.state.data.role.name},roleList:[],selectedLeaves:a.props.location.state.data.leaveDays,selectedOff:[],leaveOpen:!1},a.handleChange=function(e){a.setState({selectedOption:e})},a.handleLeaveClickOpen=function(){a.setState({leaveOpen:!0})},a.handleLeaveOpen=function(){a.setState({leaveOpen:!1})},a.handleLeaveClose=function(){a.setState({leaveOpen:!1})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/roles");case 3:t=e.sent,this.setState({roleList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleLeaveSelection",value:function(e){var t=Object(Ht.c)(e,this.state.selectedLeaves);this.setState({selectedLeaves:t})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"Staff Details"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(J.a,null,i.a.createElement(R.a,{p:2},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Personal Infomation")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{username:this.props.location.state.data.username,displayName:this.props.location.state.data.displayName,mobile:this.props.location.state.data.mobile,email:this.props.location.state.data.email},validate:function(e){var t={};return e.username||(t.username="Please enter username"),e.displayName||(t.displayName="Please enter password"),e.mobile||(t.mobile="Please enter mobile number"),e.email||(t.email="Please enter email address"),e.password!==e.confirmPassoword&&(t.confirmPassoword="Password does not match"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,t.prev=1,a.role=e.state.selectedOption.value,a.leaveDays=e.state.selectedLeaves,t.next=6,I("PATCH","staffMgt/staffs/".concat(e.props.location.state.data._id),a);case 6:(i=t.sent)&&i.ok?window.history.back():U.a.fire({type:"error",title:"Opps... Something Wrong...",text:i.error}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.t0});case 13:r(!1);case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(a){var n=a.submitForm,r=a.isSubmitting;a.values,a.setFieldValue,a.errors,a.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,autoFocus:!0,name:"username",label:"Username",disabled:!0}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"New Passowrd",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"confirmPassoword",label:"Confirm Password",type:"password"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email"}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Role")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleChange,options:e.state.roleList,value:e.state.selectedOption}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"On Leave")),i.a.createElement(z.a,{variant:"outlined",color:"primary",onClick:e.handleLeaveClickOpen},"Please Select Leave Days..."),i.a.createElement(ze.a,{open:e.state.leaveOpen,onClose:e.handleLeaveClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(St.a,{id:"form-dialog-title"},"Leave"),i.a.createElement(Fe.a,null,i.a.createElement(Ht.b,{id:"leaveCalendar",Component:Object(Ht.d)(Ht.a),selected:e.state.selectedLeaves,minDate:new Date,interpolateSelection:Ht.c,onSelect:function(t){e.handleLeaveSelection(t)}})),i.a.createElement(xt.a,null,i.a.createElement(z.a,{onClick:e.handleLeaveClose,color:"primary"},"Done"))),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:r,onClick:n},"Update"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),r&&i.a.createElement(F.a,null))}})))))}}]),t}(i.a.Component),qt=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(Jt),Qt=a(656),Zt=a.n(Qt),ea=[{name:"name",label:"Service Name",options:{filter:!1,sort:!0}},{name:"category.name",label:"Category",options:{filter:!0,sort:!0}},{name:"price",label:"Price($)",options:{filter:!1,sort:!0}},{name:"duration",label:"Duration(min)",options:{filter:!1,sort:!0}},{name:"staff",label:"Staff Name",options:{filter:!1,sort:!0}}],ta=function(e){function t(){var e;return Object(N.a)(this,t),(e=Object(W.a)(this,Object(L.a)(t).call(this))).getMuiTheme=function(){return Object(m.a)({overrides:{MUIDataTableBodyCell:{root:{width:"100px"}}}})},e.handleAddService=function(){e.props.history.push("/service/new")},e.handleAddCategory=function(){e.props.history.push("/service/newcategory")},e.handleRowClick=function(t){e.props.history.push({pathname:"/service/detail",state:{data:e.state.serviceList[t.dataIndex]}})},e.state={serviceList:[],displayServiceList:[]},e}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","serviceMgt/services");case 3:return t=e.sent,e.next=6,I("GET","staffMgt/totalstaffs");case 6:a=e.sent,n=t,t.map(function(e){var t="";e.staff.length===a.total?t="All Staff":(e.staff.map(function(e){t+=e.displayName+", "}),t=t.slice(0,-2)),e.staff=t}),this.setState({serviceList:n,displayServiceList:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRowDelete",value:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.map(function(e){return r.state.serviceList[e.dataIndex]}),e.next=4,I("DELETE","serviceMgt/services",a);case 4:(n=e.sent)&&n.ok?U.a.fire({type:"success",text:n.ok,title:"Success!"}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(je,Object.assign({title:"Service"},this.props),i.a.createElement(_e.a,{container:!0,justify:"flex-end",spacing:32},i.a.createElement(_e.a,{item:!0,xs:12},i.a.createElement(u.a,{theme:this.getMuiTheme()},i.a.createElement(pt.a,{title:"Service List",data:this.state.serviceList,columns:ea,options:{customToolbar:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(dt.a,{title:"Add Category"},i.a.createElement(oe.a,{onClick:e.handleAddCategory},i.a.createElement(Zt.a,null))),i.a.createElement(dt.a,{title:"Add Service"},i.a.createElement(oe.a,{onClick:e.handleAddService},i.a.createElement(Ke.a,null))))},onRowClick:function(t,a){e.handleRowClick(a)},onRowsDelete:function(t){e.handleRowDelete(t.data)},filterType:"checkbox"}})))))}}]),t}(i.a.Component),aa=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)}}})(ta),na=a(58),ra=a(301),ia=a.n(ra),oa=(a(573),function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).handleChangeCategory=function(e){a.setState({selectedCategory:e})},a.state={staffList:[],arrayValue:[],categoryList:[],selectedCategory:null},a.selectMultipleOption=a.selectMultipleOption.bind(Object(na.a)(a)),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"selectMultipleOption",value:function(e){this.setState({arrayValue:e})}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/workingStaff");case 3:return t=e.sent,e.next=6,I("GET","serviceMgt/category");case 6:a=e.sent,this.setState({staffList:t,categoryList:a,selectedCategory:a[0]}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"New Service"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Service Details")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{name:"",price:"",duration:""},validate:function(e){var t={};return e.name||(t.name="Please enter service name"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i,o,l,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.setSubmitting,n.setErrors,t.prev=1,!((i=e.state.arrayValue).length<=0)){t.next=9;break}return U.a.fire({type:"error",text:"Please try again.",title:"Please select a staff"}),r(!1),t.abrupt("return");case 9:for(o=[],l=0;l<i.length;l++)o.push(i[l]._id);a.staff=o;case 12:return a.category=e.state.selectedCategory.value,t.next=15,I("POST","serviceMgt/services",a);case 15:(s=t.sent)&&s.ok?window.history.back():U.a.fire({type:"error",title:"Opps... Something Wrong...",text:s.error}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.t0});case 22:r(!1);case 23:case"end":return t.stop()}},t,null,[[1,19]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(a){var n=a.submitForm,r=a.isSubmitting;a.values,a.setFieldValue,a.errors,a.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"name",label:"Service Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"price",label:"Price ($)",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"duration",label:"Duration (min)",type:"number"}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Category")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleChangeCategory,options:e.state.categoryList,value:e.state.selectedCategory}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Select staff who perform this service.")),i.a.createElement(ia.a,{value:e.state.arrayValue,options:e.state.staffList,onChange:e.selectMultipleOption,numberDisplayed:10,valueKey:"_id",labelKey:"displayName",multiple:!0,includeSelectAll:!0,includeFilter:!0,dropdownHeight:600}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:r,onClick:n},"Register"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),r&&i.a.createElement(F.a,null))}})))}}]),t}(i.a.Component)),la=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(oa),sa=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e})},a.handleChangeCategory=function(e){a.setState({selectedCategory:e})},a.state={staffList:[],arrayValue:[],categoryList:[],selectedCategory:{value:a.props.location.state.data.category.value,label:a.props.location.state.data.category.name}},a.selectMultipleOption=a.selectMultipleOption.bind(Object(na.a)(a)),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/workingStaff");case 3:return t=e.sent,e.next=6,I("GET","serviceMgt/category");case 6:if(a=e.sent,"All Staff"!==this.props.location.state.data.staff){e.next=11;break}this.setState({arrayValue:t}),e.next=15;break;case 11:return e.next=13,I("GET","serviceMgt/services/".concat(this.props.location.state.data._id));case 13:n=e.sent,this.setState({arrayValue:n.staff});case 15:this.setState({staffList:t,categoryList:a}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"selectMultipleOption",value:function(e){this.setState({arrayValue:e})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(je,Object.assign({title:"Service Details"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(J.a,null,i.a.createElement(R.a,{p:2},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Service Details")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{name:this.props.location.state.data.name,category:this.props.location.state.data.category,price:this.props.location.state.data.price,duration:this.props.location.state.data.duration},validate:function(e){var t={};return e.name||(t.name="Please enter service name"),t},onSubmit:function(){var t=Object(f.a)(d.a.mark(function t(a,n){var r,i,o,l,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.setSubmitting,n.setErrors,t.prev=1,!((i=e.state.arrayValue).length<=0)){t.next=9;break}return U.a.fire({type:"error",title:"Please select a staff..."}),r(!1),t.abrupt("return");case 9:for(o=[],l=0;l<i.length;l++)o.push(i[l]._id);a.staff=o;case 12:return a.category=e.state.selectedCategory.value,t.next=15,I("PATCH","serviceMgt/services/".concat(e.props.location.state.data._id),a);case 15:(s=t.sent)&&s.ok?window.history.back():U.a.fire({type:"error",text:s.error,title:"Opps... Something Wrong..."}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),U.a.fire({type:"error",text:t.t0,title:"Opps... Something Wrong..."});case 22:r(!1);case 23:case"end":return t.stop()}},t,null,[[1,19]])}));return function(e,a){return t.apply(this,arguments)}}(),render:function(a){var n=a.submitForm,r=a.isSubmitting;a.values,a.setFieldValue,a.errors,a.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,autoFocus:!0,name:"name",label:"Service Name"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"price",label:"Price ($)",type:"number"}),i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"duration",label:"Duration (min)",type:"number"}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Category")),i.a.createElement(Re.a,{className:t.select,onChange:e.handleChangeCategory,options:e.state.categoryList,value:e.state.selectedCategory}),i.a.createElement(B.a,null,i.a.createElement("h5",null,"Select staff who perform this service.")),i.a.createElement(ia.a,{value:e.state.arrayValue,options:e.state.staffList,onChange:e.selectMultipleOption,numberDisplayed:10,valueKey:"_id",labelKey:"displayName",multiple:!0,includeSelectAll:!0,includeFilter:!0,dropdownHeight:600}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,disabled:r,onClick:n},"Update"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()}},"Cancel"),r&&i.a.createElement(F.a,null))}})))))}}]),t}(i.a.Component),ca=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(sa),ua=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).state={staffList:[],arrayValue:[]},a.selectMultipleOption=a.selectMultipleOption.bind(Object(na.a)(a)),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"selectMultipleOption",value:function(e){this.setState({arrayValue:e})}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","staffMgt/workingStaff");case 3:t=e.sent,this.setState({staffList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(je,Object.assign({title:"New Category"},this.props),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:e.container},i.a.createElement(B.a,null,i.a.createElement("h3",null,"Service Category")),i.a.createElement(D.a,null),i.a.createElement(_.c,{initialValues:{name:""},validate:function(e){var t={};return e.name||(t.name="Please enter category name"),t},onSubmit:function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,a.setErrors,e.prev=1,e.next=4,I("POST","serviceMgt/category",t);case 4:(r=e.sent)&&r.ok?window.history.back():U.a.fire({type:"error",title:"Opps... Something Wrong...",text:r.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:n(!1);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}(),render:function(t){var a=t.submitForm,n=t.isSubmitting;t.values,t.setFieldValue,t.errors,t.setErrors;return i.a.createElement(_.b,null,i.a.createElement(_.a,{component:G.a,variant:"outlined",margin:"normal",fullWidth:!0,name:"name",label:"Category Name"}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:e.submit,disabled:n,onClick:a},"Create"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:e.cancel,onClick:function(){window.history.back()}},"Cancel"),n&&i.a.createElement(F.a,null))}})))}}]),t}(i.a.Component),ma=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)}}})(ua),pa=[{name:"client.displayName",label:"Customer Name",options:{filter:!1,sort:!0}},{name:"paymentType",label:"Payment Method",options:{filter:!0,sort:!0}},{name:"discount",label:"Discount",options:{filter:!1,sort:!0}},{name:"addon",label:"Add-ons",options:{filter:!1,sort:!0}},{name:"total",label:"Total",options:{filter:!1,sort:!0}},{name:"createdAt",label:"Date",options:{filter:!1,sort:!0}}],da=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={invoiceList:[],displayServiceList:[]},a.getMuiTheme=function(){return Object(m.a)({overrides:{MUIDataTableBodyCell:{root:{width:"100px"}}}})},a.handleRowClick=function(){var e=Object(f.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("GET","invoiceMgt/invoice/".concat(a.state.invoiceList[t.dataIndex]._id));case 2:n=e.sent,a.props.history.push({pathname:"/invoice/detail",state:{invoice:n}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","invoiceMgt/invoicelist");case 3:(t=e.sent).map(function(e){e.createdAt=new Date(e.createdAt).toLocaleDateString()}),this.setState({invoiceList:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleRowDelete",value:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.map(function(e){return r.state.invoiceList[e.dataIndex]}),e.next=4,I("DELETE","invoiceMgt/invoice",a);case 4:(n=e.sent)&&n.ok?U.a.fire({type:"success",text:n.ok,title:"Success!"}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.props.classes;return i.a.createElement(je,Object.assign({title:"Invoice"},this.props),i.a.createElement(_e.a,{container:!0,justify:"flex-end",spacing:32},i.a.createElement(_e.a,{item:!0,xs:12},i.a.createElement(u.a,{theme:this.getMuiTheme()},i.a.createElement(pt.a,{title:"Service List",data:this.state.invoiceList,columns:pa,options:{onRowClick:function(t,a){e.handleRowClick(a)},onRowsDelete:function(t){e.handleRowDelete(t.data)},filterType:"checkbox"}})))))}}]),t}(i.a.Component),fa=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})(da),ha=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){this.props.classes;return i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,direction:"column"},i.a.createElement(_e.a,{item:!0},i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("h3",null,i.a.createElement("strong",null,this.props.booking.service.name)),i.a.createElement("h3",null,i.a.createElement("strong",null,"S$",this.props.booking.service.price)))),i.a.createElement(_e.a,{item:!0},i.a.createElement("light",null,new Date(this.props.booking.start).toTimeString().split(" ")[0]," with ",this.props.booking.staff.displayName," "))))}}]),t}(i.a.Component),ga=Object(et.a)(function(e){return{listitem:{margin:e.spacing(1),width:"100%"}}})(ha),ba=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={bookingList:[],client:null,total:null,subtotal:null,addon:null,discount:null,remark:"",isCheckout:!1,createdAt:null,paymentType:null},a.handleChange=function(e,t){"remark"!==t?(a.setState(Object(We.a)({},a.state,Object(Q.a)({},t,Math.abs(parseFloat(e.target.value))))),a.setState(function(e,t){return{total:e.subtotal+e.addon-e.discount}})):a.setState(Object(We.a)({},a.state,Object(Q.a)({},t,e.target.value)))},a.handleConfirmCheckout=function(e){U.a.fire({type:"info",title:"Confirm to check out ?",animation:!1,showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonColor:"#08a325",confirmButtonText:"Confirm",reverseButtons:!0,preConfirm:function(){var t={subtotal:a.state.subtotal,client:a.state.client._id,discount:a.state.discount?a.state.discount:0,addon:a.state.addon?a.state.addon:0,total:a.state.total,remark:a.state.remark,paymentType:e,appointment:a.state.bookingList[0].appointment};"Credit"===e?I("POST","invoiceMgt/useCredit/".concat(a.state.client._id),{total:a.state.total,bookings:a.state.bookingList}).then(function(e){e&&e.ok?a.checkout(t):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})}):a.checkout(t)}})},a.checkout=function(e){I("POST","invoiceMgt/invoice",e).then(function(e){if(e&&e.ok){var t=e.invoice;a.setState({bookingList:t.appointment.bookings,client:t.client.displayName,subtotal:t.subtotal,total:t.total,addon:t.addon,discount:t.discount,isCheckout:!0,createdAt:t.createdAt}),U.a.fire({type:"success",text:e.ok,title:"Success!"})}else U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})},a.handleClose=function(){window.history.back()},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.props.location.state.appointment?(t=this.props.location.state.appointment,a=0,t.bookings.map(function(e){a+=parseFloat(e.service.price)}),this.setState({bookingList:t.bookings,client:t.bookings[0].client,subtotal:a,total:a,isCheckout:t.checkout})):(n=this.props.location.state.invoice,this.setState({bookingList:n.appointment.bookings,client:n.client.displayName,subtotal:n.subtotal,total:n.total,addon:n.addon,discount:n.discount,paymentType:n.paymentType,isCheckout:!0,createdAt:n.createdAt}))}catch(r){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:r})}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce.a,{className:t.titleBar},i.a.createElement(ue.a,null,i.a.createElement(B.a,{variant:"h6",className:t.title},this.state.isCheckout?"Invoice":"Checkout"),i.a.createElement(oe.a,{edge:"start",color:"inherit",onClick:this.handleClose,"aria-label":"close"},i.a.createElement(He.a,null)))),i.a.createElement(_e.a,{container:!0,direction:"column",alignItems:"center"},i.a.createElement(J.a,{className:t.paperMargin},this.state.bookingList.map(function(e){return i.a.createElement(ga,{booking:e}," ")})),i.a.createElement(J.a,{style:{marginTop:10}},i.a.createElement(te.a,{style:{width:800}},i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},this.state.isCheckout?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(yt.a,{variant:"outlined",margin:"normal",type:"number",label:"Discount",value:this.state.discount,onChange:function(t){return e.handleChange(t,"discount")}}),i.a.createElement(yt.a,{variant:"outlined",margin:"normal",type:"number",label:"Add-on",value:this.state.addon,onChange:function(t){return e.handleChange(t,"addon")}}),i.a.createElement(yt.a,{variant:"outlined",margin:"normal",label:"Remark",value:this.state.remark,onChange:function(t){return e.handleChange(t,"remark")}})),i.a.createElement(_e.a,{container:!0,alignItems:"flex-end",direction:"column"},i.a.createElement(_e.a,{item:!0},i.a.createElement(ee.a,{style:{minWidth:350}},i.a.createElement(te.a,null,i.a.createElement(B.a,null,i.a.createElement("strong",null," Customer Name : ",this.state.client?this.state.client.displayName:null," "))),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Subtotal"),i.a.createElement("div",null,"$",this.state.subtotal))),i.a.createElement(Z.a,null),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Discount"),i.a.createElement("div",null,"$",this.state.discount?this.state.discount:0))),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Add-on"),i.a.createElement("div",null,"$",this.state.addon?this.state.addon:0))),i.a.createElement(Z.a,null),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Total"),i.a.createElement("div",null,"$",this.state.total))),this.state.isCheckout?i.a.createElement(i.a.Fragment,null,i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Payment Method"),i.a.createElement("div",null,this.state.paymentType))),i.a.createElement(te.a,null,i.a.createElement(_e.a,{container:!0,justify:"space-between",direction:"row"},i.a.createElement("div",null,"Date"),i.a.createElement("div",null,new Date(this.state.createdAt).toLocaleString())))):null))),this.state.isCheckout?null:i.a.createElement(_e.a,{container:!0,justify:"space-evenly",direction:"row"},i.a.createElement(z.a,{className:t.checkoutBtn,variant:"contained",color:"primary",onClick:function(){return e.handleConfirmCheckout("Credit")}},"Credit"),i.a.createElement(z.a,{className:t.checkoutBtn,variant:"contained",color:"primary",onClick:function(){return e.handleConfirmCheckout("Cash")}},"Cash"),i.a.createElement(z.a,{className:t.checkoutBtn,variant:"contained",color:"primary",onClick:function(){return e.handleConfirmCheckout("Card")}},"Card"),i.a.createElement(z.a,{className:t.checkoutBtn,variant:"contained",color:"primary",onClick:function(){return e.handleConfirmCheckout("Others")}},"Others")))))))}}]),t}(i.a.Component),va=Object(M.a)(function(e){return{checkoutBtn:{marginTop:5,marginBottom:5,width:"22%",minHeight:100},titleBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},paperMargin:{margin:e.spacing(1),minWidth:800,maxWidth:800}}})(ba),ya=a(564),Ea=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(je,Object.assign({title:"Message"},this.props),i.a.createElement(B.a,{component:"div"},i.a.createElement("h3",null,"Hello World, i'm Message")),i.a.createElement(me.a,{mdUp:!0},i.a.createElement(ya.a,{color:"primary","aria-label":"Add",className:e.fab},i.a.createElement(Ke.a,null))))}}]),t}(i.a.Component),ka=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)}}})(Ea),Ca=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(je,Object.assign({title:"Report"},this.props),i.a.createElement(B.a,{component:"div"},i.a.createElement("h3",null,"Hello World, i'm Report")),i.a.createElement(me.a,{mdUp:!0},i.a.createElement(ya.a,{color:"primary","aria-label":"Add",className:e.fab},i.a.createElement(Ke.a,null))))}}]),t}(i.a.Component),Oa=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)}}})(Ca),Sa=function(e){function t(){return Object(N.a)(this,t),Object(W.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(je,Object.assign({title:"Setting"},this.props),i.a.createElement(B.a,{component:"div"},i.a.createElement("h3",null,"Hello World, i'm Setting")),i.a.createElement(me.a,{mdUp:!0},i.a.createElement(ya.a,{color:"primary","aria-label":"Add",className:e.fab},i.a.createElement(Ke.a,null))))}}]),t}(i.a.Component),xa=Object(M.a)(function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},extendedIcon:{marginRight:e.spacing(1)}}})(Sa),wa=a(145),ja=a(177),Ia=a(1122),Na=a(657),Ta=a.n(Na),Wa=function(e){return e.homePage?null:i.a.createElement(oe.a,{onClick:function(){e.history.push("/start")},color:"primary",style:{position:"fixed",top:50,left:50}},i.a.createElement(Ia.a,{style:{height:50,width:50}}))},La=function(e){return e.skip?i.a.createElement(z.a,{onClick:function(){e.history.push("/start"),U.a.fire({type:"success",text:"Register Success",title:"Success!"})},color:"primary",style:{position:"fixed",fontSize:30,right:50,top:50}},"Skip"):null},Pa=function(e){return e.displayName?i.a.createElement(B.a,{style:{fontSize:50,position:"fixed",top:e.imageWidth+e.imagePadding},color:"primary"},"Welcome ",e.displayName):null},Da=function(e){return i.a.createElement("div",null,i.a.createElement(wa.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},i.a.createElement(J.a,{style:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url(".concat(Ta.a,")")}},i.a.createElement("img",{src:a(408),alt:"",style:{width:e.imageWidth,position:"fixed",top:e.imagePadding}}),i.a.createElement(Pa,Object.assign({},e,{displayName:e.displayName})),i.a.createElement(Wa,Object.assign({},e,{homePage:e.homePage})),i.a.createElement(La,Object.assign({},e,{skip:e.skip})),e.children)))},Ma=a(658),Aa=a.n(Ma),Ra=a(659),Ba=a.n(Ra),za=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).handleRegisterClick=function(){var e=a.props.history;setTimeout(function(){e.push("/register")},500)},a.handleFacialLoginClick=function(){var e=a.props.history;setTimeout(function(){e.push("/mobilelogin")},500)},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){try{b("userid"),v(),C()}catch(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})}}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Da,Object.assign({},this.props,{imageWidth:320,imagePadding:50,homePage:!0}),i.a.createElement(_e.a,{container:!0,spacing:5,direction:"row",justify:"center",alignItems:"center"},i.a.createElement(_e.a,{item:!0},i.a.createElement(wa.Animated,{animationInDelay:500,animationIn:"bounceInLeft",animationOut:"fadeOut"},i.a.createElement(ja.a,{focusRipple:!0,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:300,height:360},onClick:this.handleRegisterClick},i.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(Ba.a,")")}})))),i.a.createElement(_e.a,{item:!0},i.a.createElement(wa.Animated,{animationInDelay:500,animationIn:"bounceInRight",animationOut:"fadeOut"},i.a.createElement(ja.a,{focusRipple:!0,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:300,height:360},onClick:this.handleFacialLoginClick},i.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(Aa.a,")")}}))))))}}]),t}(i.a.Component),Fa=Object(M.a)(function(e){var t;return{root:{height:180},container:{display:"flex"},paper:{margin:e.spacing(1)},svg:{width:100,height:100},polygon:{fill:e.palette.common.white,stroke:e.palette.divider,strokeWidth:1},button:{height:"10%",width:"20%"},image:(t={position:"relative",height:200},Object(Q.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:"100% !important"}),Object(Q.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"}}})(za),_a=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={selectedServiceData:"",selectedService:"",selectedServiceCategory:"",selectedStaff:"",serviceList:[],staffList:[],displayName:"",categoryList:[],paddingTop:10},a.handleSelectStaffChange=function(e){a.setState({selectedStaff:e.target.value,paddingTop:200})},a.handleSelectServiceCategoryChange=function(){var e=Object(f.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("GET","kioskMgt/availableservice/".concat(t.target.value));case 2:n=e.sent,a.setState({serviceList:n,selectedServiceCategory:t.target.value,selectedService:""});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSelectServiceChange=function(e,t){a.setState({selectedStaff:""});var n=t.props.id,r=new Date,i=new Date(r.getTime()+6e4*parseInt(a.state.selectedServiceData.duration)),o=Object(We.a)({},a.state.serviceList[n],{start:r,end:i});I("POST","kioskMgt/availablestaff",o).then(function(t){0===t.length&&(t=[{displayName:"No Staff Available"}]),a.setState({selectedServiceData:a.state.serviceList[n],selectedService:e.target.value,staffList:t})})},a.checkout=function(e){I("POST","kioskMgt/invoice",e).then(function(e){e&&e.ok?U.a.fire({type:"success",title:"Please process to the waiting area!",animation:!1,customClass:{popup:"animated tada"},allowOutsideClick:!1,preConfirm:function(){return a.props.history.push("/start")}}):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("GET","kioskMgt/category");case 3:t=e.sent,this.setState({categoryList:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e.t0});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=this,t=S(),a={};a.total=this.state.selectedServiceData.price,a.service=this.state.selectedServiceData.name,I("POST","kioskMgt/useCredit/".concat(t._id),a).then(function(n){if(n.ok){var r=new Date,i=new Date(r.getTime()+6e4*parseInt(e.state.selectedServiceData.duration)),o=[{category:e.state.selectedServiceCategory,client:t._id,service:e.state.selectedService,start:r,end:i,staff:e.state.selectedStaff}];I("POST","kioskMgt/appointment",o).then(function(n){if(n&&n.ok){var r={subtotal:a.total,client:t._id,discount:0,addon:0,total:a.total,remark:"",paymentType:"Credit",appointment:n.appointmentId};e.checkout(r)}else U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error,animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return e.props.history.push("/start")}})})}else n.error&&U.a.fire({type:"error",title:"Opps... Something Wrong...",text:n.error,animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return e.props.history.push("/start")}})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=i.a.createElement(Ge.a,{className:t.formControl,fullWidth:!0},i.a.createElement(Xe.a,{htmlFor:"age-native-simple",style:{fontSize:40}},"Service Type"),i.a.createElement(Je.a,{style:{fontSize:40,height:100},value:this.state.selectedService,onChange:this.handleSelectServiceChange,input:i.a.createElement(qe.a,{id:"age-native-simple",style:{fontSize:40}})},this.state.serviceList.map(function(e,t){return i.a.createElement(se.a,{id:t,value:e._id,style:{fontSize:40}},e.name)}))),n=i.a.createElement(wa.Animated,{key:"serviceInfoDiv",animationIn:"fadeIn",animationOut:"fadeOut"},i.a.createElement(Ge.a,{className:t.formControl,fullWidth:!0},i.a.createElement(Xe.a,{htmlFor:"age-native-simple",style:{fontSize:40}},"Staff Name"),i.a.createElement(Je.a,{style:{fontSize:40,height:100},value:this.state.selectedStaff,onChange:this.handleSelectStaffChange,input:i.a.createElement(qe.a,{id:"age-native-simple",style:{fontSize:40}})},this.state.staffList.map(function(e){return i.a.createElement(se.a,{value:e._id,style:{fontSize:40}},e.displayName)}))),i.a.createElement(B.a,{variant:"h3",className:t.bold}," Price: $",this.state.selectedServiceData.price),i.a.createElement(B.a,{variant:"h3",className:t.bold}," Duration: ",this.state.selectedServiceData.duration," mins")),r=i.a.createElement(wa.Animated,{animationIn:"fadeIn",animationOut:"fadeOut",key:"confirmDiv"},i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,style:{fontSize:40},onClick:function(){return e.submit()}},"Confirm"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){e.props.history.push("/start")},style:{fontSize:40}},"Cancel"));return i.a.createElement("div",{style:{display:"block",paddingTop:this.state.paddingTop}},i.a.createElement(wa.Animated,{animationIn:"fadeIn",animationOut:"fadeOut",animationInDelay:500},i.a.createElement("form",null,i.a.createElement(_e.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(_e.a,{item:!0,xs:12},i.a.createElement(Ge.a,{className:t.formControl,fullWidth:!0},i.a.createElement(Xe.a,{htmlFor:"age-native-simple",style:{fontSize:40}},"Service Category"),i.a.createElement(Je.a,{style:{fontSize:40,height:100},value:this.state.selectedServiceCategory,onChange:this.handleSelectServiceCategoryChange,input:i.a.createElement(qe.a,{id:"age-native-simple",style:{fontSize:40}})},this.state.categoryList.map(function(e,t){return i.a.createElement(se.a,{id:t,value:e._id,style:{fontSize:40}},e.label)})))),i.a.createElement(_e.a,{item:!0},this.state.selectedServiceCategory?a:null),i.a.createElement(_e.a,{item:!0},this.state.selectedService?n:null),i.a.createElement(_e.a,{item:!0},this.state.selectedStaff&&this.state.selectedService?r:null)))))}}]),t}(i.a.Component),Ga=Object(et.a)(function(e){return{root:{height:180},submit:{margin:e.spacing(3),minWidth:220},cancel:{margin:e.spacing(3),minWidth:220},container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:500},bold:{margin:e.spacing(1),fontWeight:500}}})(_a),Va=a(79),Ua=a(246),Ka=a.n(Ua),$a=a(616),Ha="https://spa-fr.cognitiveservices.azure.com/face/v1.0",Ya="5463be0170e742d98bf5b3606727fbdb",Xa="https://projectspa.blob.core.windows.net/spacontainer",Ja={detected:!1,topLeftX:0,topLeftY:0,bottomRightX:0,bottomRightY:0},qa={width:800,height:600,facingMode:"user"},Qa=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).startTimer=function(){a.setState({timerOn:!0,timerTime:a.state.timerTime}),a.timer=setInterval(function(){var e=a.state.timerTime-1e3;e>=0?a.setState({timerTime:e}):(clearInterval(a.timer),a.setState({timerOn:!1}))},1e3)},a.stopTimer=function(){clearInterval(a.timer),a.setState({timerOn:!1,timerTime:3e3})},a.startDetection=function(){try{var e=a.state,t=e.timerTime,n=e.timerOn,r=document.getElementById("videoOverlay"),i=a.webcam.current;if(i&&r&&i.getCanvas()){i=i.getCanvas();Va.b(i,new Va.a({inputSize:512,scoreThreshold:.5})).then(function(e){if(e){n||(a.setState({timerTime:3e3}),a.startTimer()),r.width=i.width,r.height=i.height,r.style.display="";var o=Va.f(r,i,!0);if(Va.c.drawDetections(r,Va.g(e,o)),t<=0&&n){if(e.box){var l=e.box;Ja.detected=!0,Ja.topLeftX=a.getTL(l.x),Ja.topLeftY=a.getTL(l.y),Ja.bottomRightX=a.getBR(l.x+l.width,!0),Ja.bottomRightY=a.getBR(l.y+l.height,!1)}return r.getContext("2d").drawImage(i,0,0),void a.capture(r.toDataURL("image/jpeg",.5))}return setTimeout(function(){return a.startDetection()},300)}return a.stopTimer(),r.style.display="none",setTimeout(function(){return a.startDetection()},300)})}}catch(o){console.log(o)}},a.capture=function(){var e=Object(f.a)(d.a.mark(function e(t){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n={}).imagebase64=t,n.id="auth",e.next=6,I("POST","kioskMgt/savephoto",n);case 6:(r=e.sent)&&r.ok?a.faceAPIDetect("".concat(Xa,"/").concat(n.id,".jpg")):U.a.fire({type:"error",text:"Please try again.",title:"Authentication fail!",preConfirm:function(){return setTimeout(function(){return a.startDetection()},500)}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),U.a.fire({type:"error",text:"Please try again.",title:"Authentication fail!",preConfirm:function(){return setTimeout(function(){return a.startDetection()},500)}});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state={takingPicture:!0,timerOn:!1,timerTime:3e3,displayName:"",login:!1},a.webcam=i.a.createRef(),a.canvas=i.a.createRef(),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;Va.d("/models").then(function(){return Va.e("/models").then(function(){setTimeout(function(){return e.startDetection()},1e3)})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getTL",value:function(e){return(e-=70)<=0?0:e}},{key:"getBR",value:function(e,t){return e+=70,t?e>640?640:e:e>480?480:e}},{key:"faceAPIVerify",value:function(e,t){var a=this,n="".concat(Ha,"/verify");$a({method:"POST",url:n,data:{personGroupId:"1",faceId:e,personId:t},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":Ya}}).then(function(e){e.error&&(a.setState({takingPicture:!0}),U.a.fire({type:"error",title:"Oops...",text:"Authendication fail!",showCancelButton:!0,confirmButtonText:"Re-try!",cancelButtonText:"No, cancel!",reverseButtons:!0,animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return setTimeout(function(){return a.startDetection()},500)}})),console.log("Verify:"),console.log(e.data),e.data.isIdentical?a.faceAPIGetPersonId(t):U.a.fire({type:"error",title:"Oops...",text:"Authendication fail!",showCancelButton:!0,confirmButtonText:"Re-try!",cancelButtonText:"No, cancel!",reverseButtons:!0,animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return setTimeout(function(){return a.startDetection()},500)}})}).catch(function(e){console.log("Error: ",e)})}},{key:"faceAPIGetPersonId",value:function(e){var t=this,a="".concat(Ha,"/persongroups/1/persons/").concat(e);$a({method:"GET",url:a,headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":Ya}}).then(function(e){I("GET","kioskMgt/faciallogin/".concat(e.data.name)).then(function(e){e&&e.ok?(console.log("Client: "),console.log(e),y(e.token),O(e.user),t.setState({displayName:e.user.displayName,login:!0})):U.a.fire({type:"error",text:"Please try again.",title:"Authentication fail!",preConfirm:function(){return setTimeout(function(){return t.startDetection()},500)}})})}).catch(function(e){console.log(e),U.a.fire({type:"error",text:"Please try again.",title:"Authentication fail!",preConfirm:function(){return setTimeout(function(){return t.startDetection()},500)}})})}},{key:"faceAPIIdentify",value:function(e){for(var t=this,a=[],n=0;n<e.length;n++)a.push(e[n].faceId);var r="".concat(Ha,"/identify");$a({method:"POST",url:r,data:{personGroupId:"1",faceIds:a,maxNumOfCandidatesReturned:1},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":Ya}}).then(function(e){e.error&&(t.setState({takingPicture:!0}),U.a.fire({type:"error",title:"Oops...",text:"Authendication fail!",showCancelButton:!0,confirmButtonText:"Re-try!",cancelButtonText:"No, cancel!",reverseButtons:!0,animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return setTimeout(function(){return t.startDetection()},500)}})),console.log("Identify: "),console.log(e.data),e.data[0].candidates[0]?t.faceAPIVerify(e.data[0].faceId,e.data[0].candidates[0].personId):U.a.fire({type:"error",text:"Please try again.",title:"Authentication fail!",preConfirm:function(){return setTimeout(function(){return t.startDetection()},500)}})}).catch(function(e){console.log("Error: ",e)})}},{key:"faceAPIDetect",value:function(e){var t=this,a="".concat(Ha,"/detect?returnFaceId=true");$a({method:"POST",url:a,data:{url:e},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":Ya}}).then(function(e){console.log("Detect: "),console.log(e.data),t.faceAPIIdentify(e.data)}).catch(function(e){console.log("Error: ",e)})}},{key:"render",value:function(){var e,t=this;return e=this.state.timerOn?"Identifying, please keep still":"Face not detected, adjust your position...",i.a.createElement(Da,Object.assign({},this.props,{imageWidth:200,imagePadding:40,displayName:this.state.displayName}),i.a.createElement("div",{style:{flexDirection:"column",alignItems:"center",display:"flex"}},this.state.login?null:i.a.createElement("div",{style:{flexDirection:"column",alignItems:"center",display:"flex"}},i.a.createElement("div",{style:{height:480,width:600,alignItems:"center"}},i.a.createElement(Ka.a,{style:{position:"absolute",zIndex:1},audio:!1,height:480,ref:this.webcam,screenshotFormat:"image/jpeg",width:600,videoConstraints:qa}),i.a.createElement("canvas",{id:"videoOverlay",ref:this.canvas,style:{height:480,width:600,position:"relative",zIndex:2}})),i.a.createElement("div",null,i.a.createElement(B.a,{style:{fontSize:30,fontWeight:500},align:"center",color:"primary"},e)),i.a.createElement(z.a,{onClick:function(){t.props.history.push("/mobilelogin")},variant:"outlined",color:"primary",style:{top:30,fontSize:30}},"Login By Mobile")),this.state.login?i.a.createElement(Ga,this.props):null))}}]),t}(i.a.Component),Za=Object(M.a)(function(e){return{root:{height:180},submit:{margin:e.spacing(3),minWidth:220},cancel:{margin:e.spacing(3),minWidth:220},container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(3),minWidth:500},bold:{margin:e.spacing(3),fontWeight:500}}})(Qa),en=a(191),tn=a.n(en),an=i.a.forwardRef(function(e,t){return i.a.createElement(Be.a,Object.assign({direction:"up",ref:t},e))}),nn=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={layoutName:"default",input:{},inputName:"mobile",keyboardOpen:!1},a.onChangeAll=function(e){a.setState({input:e})},a.onKeyPress=function(e){"{enter}"===e?a.setState({keyboardOpen:!1}):"{clear}"===e&&a.clearScreen()},a.onChangeInput=function(e){var t=e.target.value,n=Object(We.a)({},a.state.input,Object(Q.a)({},a.state.inputName,t));a.setState({input:n},function(){a.keyboard.setInput(t)})},a.setActiveInput=function(){a.setState({keyboardOpen:!0})},a.handleKeyboardClose=function(){a.setState({keyboardOpen:!1})},a.login=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.state.input).mobile){e.next=6;break}return U.a.fire({type:"error",text:"Please enter mobile number",title:"Error"}),e.abrupt("return");case 6:if(!(t.mobile.length<8)){e.next=9;break}return U.a.fire({type:"error",text:"Mobile must be 8 digit",title:"Error"}),e.abrupt("return");case 9:I("GET","kioskMgt/mobilelogin/".concat(t.mobile)).then(function(e){e&&e.ok?(y(e.token),O(e.user),a.props.history.push("/clientdetails")):U.a.fire({type:"error",text:"Please try again.",title:e.error})}).catch(function(e){U.a.fire({type:"error",text:"Please try again.",title:e})});case 10:case"end":return e.stop()}},e)})),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.input;return i.a.createElement(Da,Object.assign({},this.props,{imageWidth:200,imagePadding:10,displayName:this.state.displayName}),i.a.createElement("div",{style:{flexDirection:"column",alignItems:"center",display:"flex"}},i.a.createElement("div",{style:{display:"block"}},i.a.createElement(B.a,{style:{fontSize:50},color:"primary"},"Login"),i.a.createElement("form",{style:{flexDirection:"column",alignItems:"center",display:"flex",minWidth:600}},i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number",onClick:this.setActiveInput,value:a.mobile||"",onChange:function(t){return e.onChangeInput(t)}}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.login,style:{fontSize:35},onClick:this.login},"Login")))),i.a.createElement(ze.a,{fullWidth:!0,maxWidth:"xl",style:{fontSize:35},open:this.state.keyboardOpen,onEnter:function(){e.refs.displayValue.children[0].children[0].value=""},onClose:this.handleKeyboardClose,TransitionComponent:an,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},i.a.createElement(Fe.a,null,i.a.createElement("div",null,i.a.createElement(yt.a,{fullWidth:!0,InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},ref:"displayValue",value:a[this.state.inputName],placeholder:"Tap to start",onChange:function(t){return e.onChangeAll(t)}}),i.a.createElement(tn.a,{keyboardRef:function(t){return e.keyboard=t},inputName:this.state.inputName,layoutName:this.state.layoutName,onChangeAll:function(t){return e.onChangeAll(t)},onKeyPress:function(t){return e.onKeyPress(t)},theme:"hg-theme-default hg-layout-default myTheme",layout:{default:["1 2 3","4 5 6","7 8 9","{bksp} 0 {enter}"]},display:{"{bksp}":"Bksp","{enter}":"Enter"}})))))}}]),t}(i.a.Component),rn=Object(M.a)(function(e){return{root:{height:180},login:{margin:e.spacing(3),minWidth:220},cancel:{margin:e.spacing(3),minWidth:220},container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(3),minWidth:500},bold:{margin:e.spacing(3),fontWeight:500}}})(nn),on=(a(625),a(1123)),ln=i.a.forwardRef(function(e,t){return i.a.createElement(Be.a,Object.assign({direction:"up",ref:t},e))}),sn=[{value:"M",label:"M"},{value:"F",label:"F"}],cn=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={layoutName:"default",inputName:"mobile",input:{},submittedData:"",gender:sn[0],keyboardOpen:!1,selectedDate:null},a.handleGenderSelection=function(e){a.setState({gender:e})},a.onChangeAll=function(e){a.setState({input:e})},a.onKeyPress=function(e){"{enter}"===e?a.setState({keyboardOpen:!1}):"{clear}"===e?a.clearScreen():"{shift}"===e&&a.handleShift()},a.handleShift=function(){var e=a.state.layoutName;a.setState({layoutName:"default"===e?"shift":"default"})},a.clearScreen=function(){var e=Object(We.a)({},a.state.input),t=a.state.inputName;e[t]="",a.setState({input:e},function(){a.keyboard.clearInput(t)})},a.onChangeInput=function(e){var t=e.target.value,n=Object(We.a)({},a.state.input,Object(Q.a)({},a.state.inputName,t));a.setState({input:n},function(){a.keyboard.setInput(t)})},a.setActiveInput=function(e){"mobile"===e?a.setState({layoutName:"mobile"}):a.setState({layoutName:"default"}),a.refs.displayValue.children[0].children[0].type="text",a.setState({inputName:e,keyboardOpen:!0})},a.handleKeyboardClose=function(){a.setState({keyboardOpen:!1})},a.submit=Object(f.a)(d.a.mark(function e(){var t,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.input,r=t.gender,n.gender=r.value,n.mobile){e.next=7;break}return U.a.fire({type:"error",text:"Please enter mobile number",title:"Error"}),e.abrupt("return");case 7:if(!(n.mobile.length<8)){e.next=12;break}return U.a.fire({type:"error",text:"Mobile must be 8 digit",title:"Error"}),e.abrupt("return");case 12:if(n.displayName){e.next=17;break}return U.a.fire({type:"error",text:"Please enter display name",title:"Error"}),e.abrupt("return");case 17:if(n.nric){e.next=20;break}return U.a.fire({type:"error",text:"Please enter NRIC",title:"Error"}),e.abrupt("return");case 20:try{I("POST","kioskMgt/clients",a.state.input).then(function(e){e&&e.ok?U.a.fire({type:"success",title:"Register Success!",animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return a.props.history.push("/start")}}):U.a.fire({type:"error",text:"Please try again.",title:e.error})})}catch(i){U.a.fire({type:"error",text:"Please try again.",title:i.message})}case 21:case"end":return e.stop()}},e)})),a.handleDateChange=function(e){a.setState({selectedDate:e})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.input;return i.a.createElement(Da,Object.assign({},this.props,{imageWidth:160,imagePadding:10}),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement(B.a,{style:{fontSize:50},color:"primary"},"New Client Onboard"),i.a.createElement("form",null,i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number",onClick:function(){return e.setActiveInput("mobile")},value:a.mobile||"",onChange:function(t){return e.onChangeInput(t)}}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed",fontSize:"30px"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name",onClick:function(){return e.setActiveInput("displayName")},value:a.displayName||"",onChange:function(t){return e.onChangeInput(t)}}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed",fontSize:"30px"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email",onClick:function(){return e.setActiveInput("email")},value:a.email||"",onChange:function(t){return e.onChangeInput(t)}}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"nric",label:"NRIC",onClick:function(){return e.setActiveInput("nric")},value:a.nric||"",onChange:function(t){return e.onChangeInput(t)}}),i.a.createElement(Qe.a,{utils:Ye.a},i.a.createElement(on.a,{autoOk:!0,disableFuture:!0,disableToolbar:!0,openTo:"year",format:"dd/MM/yyyy",label:"Date of birth",views:["year","month","date"],style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{shrink:!0,style:{fontSize:35}},fullWidth:!0,margin:"normal",inputVariant:"outlined",variant:"outlined",value:this.state.selectedDate,onChange:this.handleDateChange})),i.a.createElement(B.a,{variant:"h3",color:"primary",gutterBottom:!0},"Gender"),i.a.createElement(Re.a,{className:t.select,onChange:this.handleGenderSelection,options:sn,value:this.state.gender,styles:{control:function(e){return Object(We.a)({},e,{fontSize:35})},menu:function(e){return Object(We.a)({},e,{fontSize:35})}}}),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,style:{fontSize:35},onClick:this.submit},"Register"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,onClick:function(){window.history.back()},style:{fontSize:35}},"Cancel"))),i.a.createElement(ze.a,{fullWidth:!0,maxWidth:"xl",style:{fontSize:35},open:this.state.keyboardOpen,onEnter:function(){e.refs.displayValue.children[0].children[0].value=""},onClose:this.handleKeyboardClose,TransitionComponent:ln,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},i.a.createElement(Fe.a,null,i.a.createElement("div",null,i.a.createElement(yt.a,{InputProps:{style:{fontSize:30}},fullWidth:!0,ref:"displayValue",value:a[this.state.inputName],placeholder:"Tap to start",onChange:function(t){return e.onChangeAll(t)}}),i.a.createElement(tn.a,{keyboardRef:function(t){return e.keyboard=t},inputName:this.state.inputName,layoutName:this.state.layoutName,onChangeAll:function(t){return e.onChangeAll(t)},onKeyPress:function(t){return e.onKeyPress(t)},theme:"hg-theme-default hg-layout-default myTheme",layout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"Z X C V B N M < > ? {shift}","{space}"],mobile:["1 2 3","4 5 6","7 8 9","{bksp} 0 {enter}"]},display:{"{bksp}":"Bksp","{enter}":"Enter","{shift}":"Shift","{space}":" "}})))))}}]),t}(i.a.Component),un=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(cn),mn=a(616),pn="https://spa-fr.cognitiveservices.azure.com/face/v1.0",dn="5463be0170e742d98bf5b3606727fbdb",fn=function(e,t){var a="".concat(pn,"/persongroups/1/persons/").concat(e,"/persistedFaces");mn({method:"POST",url:a,data:{url:t},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":dn}}).then(function(e){!function(){var e="".concat(pn,"/persongroups/1/train");mn({method:"POST",url:e,headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":dn}}).then(function(e){console.log(e.data)}).catch(function(e){console.log("Error: ",e)})}(),console.log(e.data)}).catch(function(e){console.log("Error: ",e)})},hn=function(e,t){var a="".concat(pn,"/persongroups/1/persons");mn({method:"POST",url:a,data:{name:t},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":dn}}).then(function(t){fn(t.data.personId,e),console.log(t.data.personId)}).catch(function(e){console.log("Error: ",e)})},gn={detected:!1,topLeftX:0,topLeftY:0,bottomRightX:0,bottomRightY:0},bn={width:800,height:600,facingMode:"user"},vn=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).startTimer=function(){console.log("Start timer"),a.setState({timerOn:!0,timerTime:a.state.timerTime}),a.timer=setInterval(function(){console.log("in interval");var e=a.state.timerTime-1e3;e>=0?a.setState({timerTime:e}):(clearInterval(a.timer),a.setState({timerOn:!1}))},1e3)},a.stopTimer=function(){console.log("stopTimer"),clearInterval(a.timer),a.setState({timerOn:!1,timerTime:3e3})},a.startDetection=function(){try{var e=a.state,t=e.timerTime,n=e.timerOn,r=document.getElementById("videoOverlay"),i=a.webcam.current;if(i&&r&&i.getCanvas()){i=i.getCanvas();Va.b(i,new Va.a({inputSize:512,scoreThreshold:.5})).then(function(e){if(e){n||(a.setState({timerTime:3e3}),a.startTimer()),console.log(t),console.log("Result:  "+e),r.width=i.width,r.height=i.height,r.style.display="";var o=Va.f(r,i,!0);if(Va.c.drawDetections(r,Va.g(e,o)),t<=0&&n){if(e.box){var l=e.box;gn.detected=!0,gn.topLeftX=a.getTL(l.x),gn.topLeftY=a.getTL(l.y),gn.bottomRightX=a.getBR(l.x+l.width,!0),gn.bottomRightY=a.getBR(l.y+l.height,!1)}return r.getContext("2d").drawImage(i,0,0),void a.capture(r.toDataURL("image/jpeg",.5))}return setTimeout(function(){return a.startDetection()},300)}return console.log("not detected"),a.stopTimer(),r.style.display="none",setTimeout(function(){return a.startDetection()},300)})}}catch(o){console.log(o)}},a.capture=function(){var e=Object(f.a)(d.a.mark(function e(t){var n,r,i,o,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("capture"),a.setState({takingPicture:!1}),n=document.getElementById("photoTaking"),r=document.getElementById("photoShowing"),n.style.display="none",r.style.display="block",i=document.getElementById("showPhoto"),o=i.getContext("2d"),(l=new Image).onload=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.drawImage(l,0,0,i.width,i.height);case 1:case"end":return e.stop()}},e)})),l.src=t,a.setState({imageUrl:t})}catch(s){console.log(s)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={takingPicture:!0,timerOn:!1,timerTime:3e3,imageUrl:""},a.webcam=i.a.createRef(),a.canvas=i.a.createRef(),a.canvasPicWebCam=i.a.createRef(),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;Va.d("/models").then(function(){return Va.e("/models").then(function(){setTimeout(function(){return e.startDetection()},1e3)})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getTL",value:function(e){return(e-=70)<=0?0:e}},{key:"getBR",value:function(e,t){return e+=70,t?e>640?640:e:e>480?480:e}},{key:"retakePhoto",value:function(){console.log("retake"),this.setState({takingPicture:!0});var e=document.getElementById("photoTaking"),t=document.getElementById("photoShowing");e.style.display="block",t.style.display="none",this.startDetection()}},{key:"createUser",value:function(){var e=this,t=S(),a={imagebase64:this.state.imageUrl,id:t};I("POST","kioskMgt/savephoto",a).then(function(t){t&&t.ok?(hn("".concat("https://projectspa.blob.core.windows.net/spacontainer","/").concat(a.id,".jpg"),a.id),C(),e.props.history.push("/start")):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},{key:"render",value:function(){var e,t,a=this,n=this.props.classes;return e=this.state.timerOn?"Keep still photo will be taken in ".concat(this.state.timerTime/1e3):"Face not detected, adjust your position...",t=this.state.takingPicture?i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:n.submit,style:{display:"block",fontSize:40},onClick:function(){a.setState({takingPicture:!1}),a.props.history.push("/snapshotmanual")}},"Manual Mode"):[i.a.createElement(z.a,{key:"btnRetake",variant:"contained",color:"primary",fullWidth:!0,className:n.submit,style:{display:"block",fontSize:40},onClick:function(){return a.retakePhoto()}},"Retake A Snapshot"),i.a.createElement(z.a,{key:"btnDone",variant:"contained",color:"primary",fullWidth:!0,style:{display:"block",fontSize:40},onClick:function(){return a.createUser()}},"Done")],i.a.createElement(Da,Object.assign({},this.props,{imageWidth:320,imagePadding:40,skip:!0}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement("div",{id:"photoTaking"},i.a.createElement("div",{style:{height:480,width:600,alignItems:"center"}},i.a.createElement(Ka.a,{style:{position:"absolute",zIndex:1},audio:!1,height:480,ref:this.webcam,screenshotFormat:"image/jpeg",width:600,videoConstraints:bn}),i.a.createElement("canvas",{id:"videoOverlay",ref:this.canvas,style:{height:480,width:600,position:"relative",zIndex:2}})),i.a.createElement("div",null,i.a.createElement(B.a,{style:{fontSize:30},align:"center",color:"primary"},e))),i.a.createElement("div",{id:"photoShowing",style:{display:"none"}},i.a.createElement("canvas",{id:"showPhoto",style:{height:480,width:600}})),t))}}]),t}(i.a.Component),yn=Object(M.a)(function(e){return{root:{height:180},submit:{margin:e.spacing(5)}}})(vn),En={width:800,height:600,facingMode:"user"},kn=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(W.a)(this,Object(L.a)(t).call(this,e))).capture=function(){a.setState({takingPicture:!1});var e=a.webcam.current.getScreenshot(),t=a.canvasPicWebCam.current.getContext("2d"),n=new Image;n.onload=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.drawImage(n,0,0);case 1:case"end":return e.stop()}},e)})),n.src=e,a.setState({imageUrl:e})},a.state={imageUrl:"",takingPicture:!0},a.webcam=i.a.createRef(),a.canvasPicWebCam=i.a.createRef(),a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"createUser",value:function(){var e=this,t=S(),a={imagebase64:this.state.imageUrl,id:t};I("POST","kioskMgt/savephoto",a).then(function(t){t&&t.ok?(hn("".concat("https://projectspa.blob.core.windows.net/spacontainer","/").concat(a.id,".jpg"),a.id),C(),e.props.history.push("/start")):U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t.error})}).catch(function(e){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:e})})}},{key:"render",value:function(){var e,t,a,n=this,r=this.props.classes;return this.state.takingPicture?(t={display:"block"},e={display:"none"}):(t={display:"none"},e={display:"block"}),a=this.state.takingPicture?[i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:r.submit,style:{display:"block",fontSize:40},onClick:function(){n.setState({takingPicture:!1}),n.props.history.push("/snapshot")}},"Auto Mode"),i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,style:{display:"block",fontSize:40},onClick:this.capture},"Take A Snapshot")]:[i.a.createElement(z.a,{key:"btnRetake",variant:"contained",color:"primary",fullWidth:!0,className:r.submit,style:{display:"block",fontSize:40,paddingTop:10},onClick:function(){return n.setState({takingPicture:!0})}},"Retake A Snapshot"),i.a.createElement(z.a,{key:"btnDone",variant:"contained",color:"primary",fullWidth:!0,style:{display:"block",fontSize:40,paddingTop:10},onClick:function(){return n.createUser()}},"Done")],i.a.createElement(Da,Object.assign({},this.props,{imageWidth:320,imagePadding:40,skip:!0}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement(Ka.a,{style:t,audio:!1,height:480,ref:this.webcam,screenshotFormat:"image/jpg",width:600,videoConstraints:En}),i.a.createElement("canvas",{ref:this.canvasPicWebCam,width:600,height:480,style:e}),a))}}]),t}(i.a.Component),Cn=Object(M.a)(function(e){return{root:{height:180},submit:{margin:e.spacing(5)}}})(kn),On=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={input:{}},a.onChangeInput=function(e){var t=e.target.value,n=Object(We.a)({},a.state.input,Object(Q.a)({},a.state.inputName,t));a.setState({input:n},function(){a.keyboard.setInput(t)})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){try{var e=S();this.setState({displayName:e.displayName})}catch(t){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t})}}},{key:"render",value:function(){this.props.classes,this.state.input;return i.a.createElement(Da,Object.assign({},this.props,{imageWidth:200,imagePadding:10,displayName:this.state.displayName}),i.a.createElement("div",{style:{flexDirection:"column",alignItems:"center",display:"flex"}},i.a.createElement(Ga,this.props)))}}]),t}(i.a.Component),Sn=Object(M.a)(function(e){return{root:{height:180},login:{margin:e.spacing(3),minWidth:220},cancel:{margin:e.spacing(3),minWidth:220},container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(3),minWidth:500},bold:{margin:e.spacing(3),fontWeight:500}}})(On),xn=i.a.forwardRef(function(e,t){return i.a.createElement(Be.a,Object.assign({direction:"up",ref:t},e))}),wn=[{value:"M",label:"M"},{value:"F",label:"F"}],jn=function(e){function t(){var e,a;Object(N.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(W.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={layoutName:"default",inputName:null,input:{},submittedData:"",gender:wn[0],keyboardOpen:!1,selectedDate:null,edit:!0},a.handleGenderSelection=function(e){a.setState({gender:e})},a.onChangeInput=function(e){var t=e.target.value,n=Object(We.a)({},a.state.input,Object(Q.a)({},a.state.inputName,t));a.setState({input:n},function(){a.keyboard.setInput(t)})},a.onChangeAll=function(e){var t=Object(We.a)({},a.state.input,e);a.setState({input:t})},a.onKeyPress=function(e){"{enter}"===e?a.setState({keyboardOpen:!1}):"{clear}"===e?a.clearScreen():"{shift}"===e&&a.handleShift()},a.handleShift=function(){var e=a.state.layoutName;a.setState({layoutName:"default"===e?"shift":"default"})},a.clearScreen=function(){var e=Object(We.a)({},a.state.input),t=a.state.inputName;e[t]="",a.setState({input:e},function(){a.keyboard.clearInput(t)})},a.setActiveInput=function(e){"mobile"===e?a.setState({layoutName:"mobile"}):a.setState({layoutName:"default"}),a.refs.displayValue.children[0].children[0].type="text",a.setState({inputName:e,keyboardOpen:!0})},a.handleKeyboardClose=function(){a.setState({keyboardOpen:!1})},a.update=Object(f.a)(d.a.mark(function e(){var t,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.input,r=t.gender,n.gender=r.value,n.mobile){e.next=7;break}return U.a.fire({type:"error",text:"Please enter mobile number",title:"Error"}),e.abrupt("return");case 7:if(!(n.mobile.length<8)){e.next=12;break}return U.a.fire({type:"error",text:"Mobile must be 8 digit",title:"Error"}),e.abrupt("return");case 12:if(n.displayName){e.next=17;break}return U.a.fire({type:"error",text:"Please enter display name",title:"Error"}),e.abrupt("return");case 17:if(n.nric){e.next=20;break}return U.a.fire({type:"error",text:"Please enter NRIC",title:"Error"}),e.abrupt("return");case 20:try{I("PATCH","kioskMgt/clients/".concat(a.state.input._id),a.state.input).then(function(e){e&&e.ok?U.a.fire({type:"success",title:"Update Success!",animation:!1,customClass:{popup:"animated tada"},preConfirm:function(){return a.props.history.push("/start")}}):U.a.fire({type:"error",text:"Please try again.",title:e.error})})}catch(i){U.a.fire({type:"error",text:"Please try again.",title:i.message})}case 21:case"end":return e.stop()}},e)})),a.handleDateChange=function(e){a.setState({selectedDate:e})},a.handleCancelClick=function(){var e=S();a.setState({edit:!0,input:e})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){try{var e=S();this.setState({input:e,displayName:e.displayName,gender:{value:e.gender,label:e.gender},selectedDate:e.birthday})}catch(t){U.a.fire({type:"error",title:"Opps... Something Wrong...",text:t})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.input,r=a.edit;return i.a.createElement(Da,Object.assign({},this.props,{imageWidth:130,imagePadding:10,displayName:this.state.displayName}),i.a.createElement(A.a,{component:"main",maxWidth:"md",className:t.container},i.a.createElement("form",null,i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"mobile",label:"Mobile",type:"number",onClick:r?null:function(){return e.setActiveInput("mobile")},value:n.mobile||"",onChange:function(t){return e.onChangeInput(t)},disabled:r}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed",fontSize:"30px"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"displayName",label:"Display Name",onClick:r?null:function(){return e.setActiveInput("displayName")},value:n.displayName||"",onChange:function(t){return e.onChangeInput(t)},disabled:r}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed",fontSize:"30px"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"email",label:"Email",onClick:r?null:function(){return e.setActiveInput("email")},value:n.email||"",onChange:function(t){return e.onChangeInput(t)},disabled:r}),i.a.createElement(yt.a,{style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{style:{fontSize:35}},variant:"outlined",margin:"normal",fullWidth:!0,name:"nric",label:"NRIC",onClick:r?null:function(){return e.setActiveInput("nric")},value:n.nric||"",onChange:function(t){return e.onChangeInput(t)},disabled:r}),i.a.createElement(Qe.a,{utils:Ye.a},i.a.createElement(on.a,{autoOk:!0,disableFuture:!0,disableToolbar:!0,openTo:"year",format:"dd/MM/yyyy",label:"Date of birth",views:["year","month","date"],style:{backgroundColor:"#f2f1ed"},autoComplete:"off",InputProps:{style:{fontSize:35}},InputLabelProps:{shrink:!0,style:{fontSize:35}},fullWidth:!0,margin:"normal",inputVariant:"outlined",variant:"outlined",value:this.state.selectedDate,onChange:this.handleDateChange,disabled:r})),i.a.createElement(B.a,{variant:"h5",gutterBottom:!0},"Gender"),i.a.createElement(Re.a,{className:t.select,onChange:this.handleGenderSelection,options:wn,value:this.state.gender,styles:{control:function(e){return Object(We.a)({},e,{fontSize:35})},menu:function(e){return Object(We.a)({},e,{fontSize:35})}},isDisabled:r}),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(B.a,{style:{fontSize:50,marginTop:20},color:"primary"},"Credit: ",this.state.input.credit)),this.state.edit?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,style:{fontSize:35},onClick:function(){return e.setState({edit:!1})}},"Edit"),i.a.createElement(In,{variant:"contained",fullWidth:!0,className:t.cancel,onClick:function(){e.props.history.push("/selectservice")},style:{fontSize:35}},"Check In")):i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.submit,style:{fontSize:35},onClick:this.update},"Update"),i.a.createElement(z.a,{variant:"contained",color:"secondary",fullWidth:!0,className:t.cancel,style:{fontSize:35},onClick:this.handleCancelClick},"Cancel")))),i.a.createElement(ze.a,{fullWidth:!0,maxWidth:"xl",style:{fontSize:35},open:this.state.keyboardOpen,onEnter:function(){e.refs.displayValue.children[0].children[0].value=n[e.state.inputName]},onClose:this.handleKeyboardClose,TransitionComponent:xn,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},i.a.createElement(Fe.a,null,i.a.createElement("div",null,i.a.createElement(yt.a,{InputProps:{style:{fontSize:30}},fullWidth:!0,ref:"displayValue",value:n[this.state.inputName],placeholder:"Tap to start",onChange:function(t){return e.onChangeAll(t)}}),i.a.createElement(tn.a,{keyboardRef:function(t){return e.keyboard=t},inputName:this.state.inputName,layoutName:this.state.layoutName,onChangeAll:function(t){return e.onChangeAll(t)},onKeyPress:function(t){return e.onKeyPress(t)},theme:"hg-theme-default hg-layout-default myTheme",layout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","q w e r t y u i o p [ ] \\","a s d f g h j k l ; ' {enter}","z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","Q W E R T Y U I O P { } |",'A S D F G H J K L : " {enter}',"Z X C V B N M < > ? {shift}","{space}"],mobile:["1 2 3","4 5 6","7 8 9","{bksp} 0 {enter}"]},display:{"{bksp}":"Bksp","{enter}":"Enter","{shift}":"Shift","{space}":" "}})))))}}]),t}(i.a.Component),In=Object(M.a)(function(e){return{root:{color:e.palette.getContrastText(Ve.a[600]),backgroundColor:Ve.a[600],"&:hover":{backgroundColor:Ve.a[700]},marginTop:30}}})(z.a),Nn=Object(M.a)(function(e){return{container:{marginTop:e.spacing(5)},submit:{margin:e.spacing(3,0,2)},cancel:{margin:e.spacing(0,0,0)},select:{margin:e.spacing(2,0,0)}}})(jn);function Tn(e){var t=e.component,a=Object(n.a)(e,["component"]);return i.a.createElement(s.b,Object.assign({},a,{render:function(e){return e.user=x(),e.user?i.a.createElement(t,e):i.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var Wn=Object(m.a)({palette:{primary:{main:"#1976d2"},secondary:{main:"#d32f2f"}}});l.a.render(i.a.createElement(function(){return i.a.createElement(u.a,{theme:Wn},i.a.createElement(c.a,{basename:"/spa"},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/start",component:Fa}),i.a.createElement(s.b,{exact:!0,path:"/faciallogin",component:Za}),i.a.createElement(s.b,{exact:!0,path:"/mobilelogin",component:rn}),i.a.createElement(s.b,{exact:!0,path:"/register",component:un}),i.a.createElement(s.b,{exact:!0,path:"/snapshot",component:yn}),i.a.createElement(s.b,{exact:!0,path:"/snapshotmanual",component:Cn}),i.a.createElement(s.b,{exact:!0,path:"/clientdetails",component:Nn}),i.a.createElement(s.b,{exact:!0,path:"/selectservice",component:Sn}),i.a.createElement(s.b,{path:"/login",component:$}),i.a.createElement(s.b,{exact:!0,path:"/",component:$}),i.a.createElement(Tn,{exact:!0,path:"/dashboard",component:Ne}),i.a.createElement(Tn,{exact:!0,path:"/appointment",component:ut}),i.a.createElement(Tn,{exact:!0,path:"/message",component:ka}),i.a.createElement(Tn,{exact:!0,path:"/report",component:Oa}),i.a.createElement(Tn,{exact:!0,path:"/client",component:vt}),i.a.createElement(Tn,{exact:!0,path:"/client/new",component:Ct}),i.a.createElement(Tn,{exact:!0,path:"/client/detail",component:Ft}),i.a.createElement(Tn,{exact:!0,path:"/client/update",component:Vt}),i.a.createElement(Tn,{exact:!0,path:"/staff",component:$t}),i.a.createElement(Tn,{exact:!0,path:"/staff/new",component:Xt}),i.a.createElement(Tn,{exact:!0,path:"/staff/detail",component:qt}),i.a.createElement(Tn,{exact:!0,path:"/service",component:aa}),i.a.createElement(Tn,{exact:!0,path:"/service/new",component:la}),i.a.createElement(Tn,{exact:!0,path:"/service/detail",component:ca}),i.a.createElement(Tn,{exact:!0,path:"/service/newcategory",component:ma}),i.a.createElement(Tn,{exact:!0,path:"/invoice",component:fa}),i.a.createElement(Tn,{exact:!0,path:"/invoice/detail",component:va}),i.a.createElement(Tn,{exact:!0,path:"/setting",component:xa}),i.a.createElement(s.b,{component:Y}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},408:function(e,t,a){e.exports=a.p+"static/media/logo.caf36d34.png"},657:function(e,t,a){e.exports=a.p+"static/media/kiosk_bg.1a6fdb78.png"},658:function(e,t,a){e.exports=a.p+"static/media/login.fc0b7b37.png"},659:function(e,t,a){e.exports=a.p+"static/media/register.e228c75f.png"},690:function(e,t,a){e.exports=a(1107)}},[[690,1,2]]]);
//# sourceMappingURL=main.24a069c8.chunk.js.map